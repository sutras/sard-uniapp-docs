import{d as e,p as o,g as a,A as s,q as l,s as t,o as n,f as r,w as d,e as i,h as c,u,x as p,v as m,y as h,W as f,Q as g,X as y,i as b,t as v,l as w,a8 as S,a9 as B}from"./index-55845ce0.js";import{_ as C,a as x}from"./index.f4d2668a.js";import{a as P,u as _}from"./common.bcce75e7.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const E=k(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"input",props:{placeholder:String,placeholderStyle:String,placeholderClass:String,disabled:Boolean,maxlength:{type:Number,default:140},focus:Boolean,cursorSpacing:Number,cursor:Number,confirmType:String,confirmHold:Number,selectionStart:Number,selectionEnd:Number,adjustPosition:{type:Boolean,default:!0},holdKeyboard:Boolean,autoBlur:Boolean,ignoreCompositionEvent:{type:Boolean,default:!0},inputmode:String,autoHeight:Boolean,fixed:Boolean,showConfirmBar:{type:Boolean,default:!0},disableDefaultPadding:{type:Boolean,default:!0},type:String,alwaysEmbed:Boolean,safePasswordCertPath:String,safePasswordLength:String,safePasswordTimeStamp:String,safePasswordNonce:String,safePasswordSalt:String,safePasswordCustomHash:String,randomNumber:Boolean,controlled:Boolean,alwaysSystem:Boolean,rootStyle:[String,Object,Array],rootClass:String,modelValue:{type:[String,Number],default:""},clearable:Boolean,showClearOnlyFocus:Boolean,showCount:Boolean,inlaid:Boolean,borderless:Boolean,readonly:Boolean,focused:Boolean,minHeight:String,validateEvent:{type:Boolean,default:!0}},emits:["update:model-value","clear","focus","blur","linechange","confirm","keyboardheightchange"],setup(e,{emit:k}){const E=e,H=x("input"),j=P(),N=_(),T=o((()=>(null==j?void 0:j.disabled)??E.disabled)),I=o((()=>(null==j?void 0:j.readonly)??E.readonly)),K=a(E.modelValue),L=e=>{K.value=e,k("update:model-value",e)};s((()=>E.modelValue),(()=>{K.value=E.modelValue??"",E.validateEvent&&(null==N||N.onChange())}));const $=e=>{const o=e.detail.value;return L(o),o},F=a(E.focus||E.focused);s([()=>E.focus,()=>E.focused],(()=>{F.value=E.focus||E.focused}));const V=e=>{F.value=!0,k("focus",e)},O=e=>{F.value=!1,k("blur",e),E.validateEvent&&(null==N||N.onBlur())},A=o((()=>{const e=E.clearable&&K.value&&!T.value&&!I.value;return E.showClearOnlyFocus?D.value||F.value&&e:e})),D=a(!1),q=()=>{D.value=!0},M=()=>{D.value=!1},Q=()=>{q();const e=()=>{M(),document.removeEventListener("mouseup",e)};document.addEventListener("mouseup",e)},W=()=>{L(""),k("clear")},X=e=>{k("linechange",e)},z=e=>{k("confirm",e)},G=e=>{k("keyboardheightchange",e)},J=o((()=>l(H.b(),H.m("inlaid",E.inlaid),H.m("borderless",E.borderless),H.m("disabled",T.value),H.m("readonly",I.value),H.m("focused",F.value),E.rootClass))),R=o((()=>t(E.rootStyle))),U=o((()=>t({minHeight:E.minHeight,height:!E.autoHeight&&E.minHeight})));return(e,o)=>{const a=w,s=S,t=B;return n(),r(a,{class:c(u(J)),style:h(u(R))},{default:d((()=>[i(a,{class:c(u(H).e("content"))},{default:d((()=>[e.$slots.prepend?(n(),r(a,{key:0,class:c(u(H).e("prepend"))},{default:d((()=>[p(e.$slots,"prepend",{},void 0,!0)])),_:3},8,["class"])):m("",!0),"textarea"===e.type?(n(),r(s,{key:1,class:c(u(l)(u(H).e("control"),u(H).em("control","textarea"))),value:K.value,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":u(l)(u(H).e("placeholder"),e.placeholderClass),disabled:u(T)||u(I),maxlength:e.maxlength,focus:e.focus,"cursor-spacing":e.cursorSpacing,cursor:e.cursor,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,"auto-blur":e.autoBlur,"ignore-composition-event":e.ignoreCompositionEvent,inputmode:e.inputmode,autocomplete:"off",fixed:e.fixed,"show-confirm-bar":e.showConfirmBar,"disable-default-padding":e.disableDefaultPadding,onInput:$,onFocus:V,onBlur:O,onLinechange:X,onConfirm:z,onKeyboardheightchange:G,"auto-height":e.autoHeight,style:h(u(U))},null,8,["class","value","placeholder","placeholder-style","placeholder-class","disabled","maxlength","focus","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","inputmode","fixed","show-confirm-bar","disable-default-padding","auto-height","style"])):(n(),r(t,{key:2,class:c(u(l)(u(H).e("control"),u(H).em("control","input"))),value:K.value,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":u(l)(u(H).e("placeholder"),e.placeholderClass),disabled:u(T)||u(I),maxlength:e.maxlength,focus:e.focus,"cursor-spacing":e.cursorSpacing,cursor:e.cursor,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,"auto-blur":e.autoBlur,"ignore-composition-event":e.ignoreCompositionEvent,inputmode:e.inputmode,autocomplete:"off",onInput:$,onFocus:V,onBlur:O,onConfirm:z,onKeyboardheightchange:G,type:e.type,password:"password"===e.type,"always-embed":e.alwaysEmbed,"safe-password-cert-path":e.safePasswordCertPath,"safe-password-length":e.safePasswordLength,"safe-password-time-stamp":e.safePasswordTimeStamp,"safe-password-nonce":e.safePasswordNonce,"safe-password-salt":e.safePasswordSalt,"safe-password-custom-hash":e.safePasswordCustomHash,"random-number":e.randomNumber,controlled:e.controlled,"always-system":e.alwaysSystem},null,8,["class","value","placeholder","placeholder-style","placeholder-class","disabled","maxlength","focus","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","inputmode","type","password","always-embed","safe-password-cert-path","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-custom-hash","random-number","controlled","always-system"])),f(i(a,{class:c(u(H).e("clear")),onClick:g(W,["stop"]),onMousedown:Q,onTouchstart:q,onTouchend:M,onTouchcancel:M},{default:d((()=>[i(C,{name:"x-circle-fill"})])),_:1},8,["class","onClick"]),[[y,u(A)]]),e.$slots.append?(n(),r(a,{key:3,class:c(u(H).e("append"))},{default:d((()=>[p(e.$slots,"append",{},void 0,!0)])),_:3},8,["class"])):m("",!0),p(e.$slots,"addon",{},void 0,!0)])),_:3},8,["class"]),e.showCount?(n(),r(a,{key:0,class:c(u(H).e("count"))},{default:d((()=>[b(v(String(K.value).length)+" / "+v(e.maxlength),1)])),_:1},8,["class"])):m("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-827fdf2b"]]);export{E as I};
