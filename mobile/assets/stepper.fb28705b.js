import{E as e,d as a,p as l,g as t,A as s,z as o,q as u,s as n,o as r,f as p,w as d,e as i,h as m,u as c,y as v,l as b,aa as y,W as f}from"./index-158834fb.js";import{a as h,b as T,_ as N}from"./index.a84991b2.js";import{a as S,u as g}from"./common.26852cb0.js";const x=N(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"stepper",props:{rootStyle:[String,Object,Array],rootClass:String,modelValue:[Number,String],min:{type:Number,default:e.stepper.min},max:{type:Number,default:e.stepper.max},valueOnClear:[Number,String],step:{type:Number,default:e.stepper.step},precision:Number,inputStyle:String,inputType:{type:String,default:e.stepper.inputType},placeholder:String,disabled:Boolean,readonly:Boolean,press:{type:Boolean,default:e.stepper.press},pressTime:{type:Number,default:e.stepper.pressTime},interval:{type:Number,default:e.stepper.interval},validateEvent:{type:Boolean,default:e.stepper.validateEvent},size:{type:String,default:e.stepper.size}},emits:["update:model-value","focus","blur"],setup(e,{emit:a}){const N=e,x=T("stepper"),C=S(),_=g(),E=l((()=>(null==C?void 0:C.disabled)??N.disabled)),V=l((()=>(null==C?void 0:C.readonly)??N.readonly)),B=t(N.modelValue),O=t(N.modelValue);s((()=>N.modelValue),(()=>{B.value=N.modelValue,O.value=N.modelValue,N.validateEvent&&(null==_||_.onChange())}));const j=e=>{B.value=e,a("update:model-value",e)},z=e=>{j(e),O.value=e},w=e=>(e=f(e,N.min,N.max),void 0!==N.precision&&(e=+e.toFixed(N.precision)),e),I=()=>"min"===N.valueOnClear?N.min:"max"===N.valueOnClear?N.max:N.valueOnClear,k=e=>{const a=e.detail.value;O.value=a,""===a&&j(I())},A=e=>{if(""!==O.value){const e=Number(O.value);isNaN(e)?(O.value="",j(I())):z(w(e))}a("blur",e)},F=e=>{a("focus",e)},L=l((()=>!o(B.value)&&Number(B.value)<=N.min)),M=l((()=>!o(B.value)&&Number(B.value)>=N.max)),q=e=>{z(w((Number(B.value)||0)+N.step*e))},H=(e,a)=>{E.value||V.value||a||q(e)};let W,D=!1;const G=e=>{D&&(q(e),setTimeout((()=>{G(e)}),N.interval))},J=e=>{!N.press||E.value||V.value||-1===e&&L.value||1===e&&M.value||(clearTimeout(W),D=!1,W=setTimeout((()=>{D=!0,G(e)}),N.pressTime))},K=()=>{clearTimeout(W),D=!1},P=e=>{J(e);const a=()=>{K(),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a)},Q=l((()=>u(x.b(),x.m(N.size),x.m("disabled",E.value),x.m("readonly",V.value),N.rootClass))),R=l((()=>n(N.rootStyle)));return(e,a)=>{const l=b,t=y;return r(),p(l,{class:m(c(Q)),style:v(c(R))},{default:d((()=>[i(l,{class:m(c(u)(c(x).e("button"),c(x).em("button","disabled",c(E)||c(L)),c(x).em("button","readonly",c(V)),c(x).em("button","decrease"))),onClick:a[0]||(a[0]=e=>H(-1,c(L))),onTouchstart:a[1]||(a[1]=e=>J(-1)),onTouchend:K,onTouchcancel:K,onMousedown:a[2]||(a[2]=e=>P(-1))},{default:d((()=>[i(h,{name:"minus"})])),_:1},8,["class"]),i(t,{class:m(c(x).e("input")),type:e.inputType,placeholder:e.placeholder,"placeholder-class":c(x).e("placeholder"),value:O.value,disabled:c(E)||c(V),style:v(e.inputStyle),onInput:k,onBlur:A,onFocus:F},null,8,["class","type","placeholder","placeholder-class","value","disabled","style"]),i(l,{class:m(c(u)(c(x).e("button"),c(x).em("button","disabled",c(E)||c(M)),c(x).em("button","readonly",c(V)),c(x).em("button","increase"))),onClick:a[3]||(a[3]=e=>H(1,c(M))),onTouchstart:a[4]||(a[4]=e=>J(1)),onTouchend:K,onTouchcancel:K,onMousedown:a[5]||(a[5]=e=>P(1))},{default:d((()=>[i(h,{name:"plus"})])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-a293ba64"]]);export{x as _};
