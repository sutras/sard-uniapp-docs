import{S as e}from"./input.2uLEz9Cx.js";import{d as a,g as s,C as l,r as o,a as t,o as i,f as r,w as n,e as u,c as m,b as d,F as f,i as p,I as c,T as _,l as g}from"./index-DFwJ2Oj-.js";import{_ as x,a as j}from"./form.D0wWYwqT.js";import{a as V}from"./index.BDMDFAO9.js";import{_ as k}from"./button.6NBmS2yV.js";import{_ as y}from"./index.NOUmFN7R.js";import"./common.BM3Qp-Uy.js";import"./dom.LPfVLj9J.js";const h=a({__name:"DynamicNested",setup(a){const h=s(),v=l({users:[]}),C=()=>{var e;null==(e=h.value)||e.validate().then((()=>{c("Success"),console.log("Received values of form:",_(v))})).catch((()=>{console.log("fail")}))};return(a,s)=>{const l=o(t("sar-input"),e),c=o(t("sar-form-item"),x),_=o(t("sar-icon"),V),b=o(t("sar-button"),k),U=g,w=o(t("sar-form"),j),N=o(t("doc-page"),y);return i(),r(N,null,{default:n((()=>[u(w,{ref_key:"formRef",ref:h,model:v},{default:n((()=>[(i(!0),m(f,null,d(v.users,((e,a)=>(i(),r(c,{key:e.id},{default:n((()=>[u(U,{style:{display:"flex","flex-direction":"row","align-items":"center",gap:"10rpx"}},{default:n((()=>[u(c,{name:["users",a,"first"],rules:{required:!0,message:"Missing first name"},inlaid:""},{default:n((()=>[u(l,{inlaid:"",modelValue:e.first,"onUpdate:modelValue":a=>e.first=a,placeholder:"First Name"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["name"]),u(c,{name:["users",a,"last"],rules:{required:!0,message:"Missing last name"},inlaid:""},{default:n((()=>[u(l,{inlaid:"",modelValue:e.last,"onUpdate:modelValue":a=>e.last=a,placeholder:"Last Name"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["name"]),u(b,{type:"mild",size:"small",onClick:a=>(e=>{const a=v.users.indexOf(e);-1!==a&&v.users.splice(a,1)})(e)},{default:n((()=>[u(_,{name:"minus"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),u(c,null,{default:n((()=>[u(b,{type:"outline",onClick:s[0]||(s[0]=e=>{v.users.push({first:"",last:"",id:Date.now()})})},{default:n((()=>[u(_,{name:"plus"}),p(" Add user ")])),_:1})])),_:1}),u(c,null,{default:n((()=>[u(b,{onClick:C},{default:n((()=>[p("Submit")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}});export{h as default};
