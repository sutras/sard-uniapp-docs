import{_ as e}from"./index.e7de6d2c.js";import{d as t,S as a,p as s,g as l,A as r,U as u,q as n,s as o,o as i,f as p,w as c,e as m,h as d,u as v,x as _,i as f,t as g,c as y,F as x,b as C,y as b,l as h,r as S,a as k}from"./index-55845ce0.js";import{_ as j}from"./index.f5b2fbd4.js";import{a as N,_ as z}from"./index.f4d2668a.js";import{_ as B}from"./_plugin-vue_export-helper.1b428a4d.js";const U=B(t({options:{virtualHost:!0,styleIsolation:"shared"},__name:"pagination",props:{rootStyle:[String,Object,Array],rootClass:String,total:{type:Number,default:0},pageSize:{type:Number,default:10},current:{type:Number,default:1},pageCount:Number,pageButtonCount:{type:Number,default:5},hideOnSinglePage:Boolean,type:{type:String,default:"multi"},ellipsis:Boolean,multiCount:{type:Number,default:5}},emits:["update:current"],setup(e,{emit:t}){const S=e,{t:k}=a("pagination"),j=N("pagination"),z=s((()=>(S.pageCount??Math.ceil(S.total/S.pageSize))||1)),B=l(S.current);r((()=>S.current),(()=>{B.value=S.current}));const U=s((()=>function(e,t,a){let s=e-Math.ceil((a-1)/2),l=e+Math.floor((a-1)/2);const r=1-s,u=l-t;return u>0&&(s-=u),s<1&&(s=1),r>0&&(l+=r),l>t&&(l=t),[s,l]}(B.value,z.value,S.pageButtonCount))),A=()=>{B.value>1&&M(B.value-1)},I=()=>{B.value<z.value&&M(B.value+1)},M=e=>{e!==B.value&&(B.value=e,t("update:current",e))},O=s((()=>{if("simple"===S.type)return[];const e=U.value[1]-U.value[0]+1;return Array(e).fill(0).map(((t,a)=>{let s=a+U.value[0];const l=0===a&&1!==s,r=a===e-1&&s!==z.value,n=l?-1:r?1:0;return s=0===n?s:u(B.value+n*S.multiCount,1,z.value),{active:B.value===s,page:s,key:a,text:S.ellipsis&&(l||r)?"...":s}}))})),$=s((()=>n(j.b(),j.m(S.type),S.rootClass))),q=s((()=>o(S.rootStyle)));return(e,t)=>{const a=h;return i(),p(a,{class:d(v($)),style:b(v(q))},{default:c((()=>[m(a,{class:d(v(n)(v(j).e("item"),v(j).em("item","disabled",1===B.value),v(j).e("prev"))),onClick:A},{default:c((()=>[_(e.$slots,"prev",{},(()=>[f(g(v(k)("previous")),1)]),!0)])),_:3},8,["class"]),"simple"===e.type?(i(),p(a,{key:0,class:d(v(j).e("ratio"))},{default:c((()=>[f(g(B.value)+"/"+g(v(z)),1)])),_:1},8,["class"])):(i(!0),y(x,{key:1},C(v(O),(e=>(i(),p(a,{key:e.key,class:d(v(n)(v(j).e("item"),v(j).em("item","current",e.active))),onClick:t=>{return a=e.page,void M(a);var a}},{default:c((()=>[f(g(e.text),1)])),_:2},1032,["class","onClick"])))),128)),m(a,{class:d(v(n)(v(j).e("item"),v(j).em("item","disabled",B.value===v(z)),v(j).e("next"))),onClick:I},{default:c((()=>[_(e.$slots,"next",{},(()=>[f(g(v(k)("next")),1)]),!0)])),_:3},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-63f01815"]]),A=t({__name:"Basic",setup(e){const t=l(1);return(e,a)=>{const s=S(k("sar-pagination"),U);return i(),p(s,{total:100,current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},null,8,["current"])}}}),I=t({__name:"Ellipsis",setup(e){const t=l(1);return(e,a)=>{const s=S(k("sar-pagination"),U);return i(),p(s,{total:100,"page-size":10,ellipsis:"",current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},null,8,["current"])}}}),M=t({__name:"Simple",setup(e){const t=l(1);return(e,a)=>{const s=S(k("sar-pagination"),U);return i(),p(s,{total:43,"page-size":10,type:"simple",current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},null,8,["current"])}}}),O=t({__name:"Custom",setup(e){const t=l(1);return(e,a)=>{const s=S(k("sar-icon"),z),l=S(k("sar-pagination"),U);return i(),p(l,{total:100,"page-size":10,current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},{prev:c((()=>[m(s,{name:"left"})])),next:c((()=>[m(s,{name:"right"})])),_:1},8,["current"])}}}),$=B(t({__name:"index",setup:t=>(t,a)=>{const s=S(k("doc-demo"),e),l=S(k("doc-page"),j);return i(),p(l,{emphasis:""},{default:c((()=>[m(s,{title:"基础使用"},{default:c((()=>[m(A)])),_:1}),m(s,{title:"显示省略号"},{default:c((()=>[m(I)])),_:1}),m(s,{title:"简单分页"},{default:c((()=>[m(M)])),_:1}),m(s,{title:"自定义"},{default:c((()=>[m(O)])),_:1})])),_:1})}}),[["__scopeId","data-v-9664e69f"]]);export{$ as default};
