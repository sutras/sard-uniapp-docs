import{d as e,p as a,g as l,A as o,q as s,s as t,o as n,f as u,w as d,e as c,h as r,u as i,v,y as m,l as p}from"./index-55845ce0.js";import{a as h}from"./index.f4d2668a.js";import{a as f}from"./index.f5b2fbd4.js";import{a as y,u as k}from"./common.bcce75e7.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const b=g(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"switch",props:{rootStyle:[String,Object,Array],rootClass:String,modelValue:null,disabled:Boolean,readonly:Boolean,loading:Boolean,size:String,checkedColor:String,uncheckedColor:String,checkedValue:{type:null,default:!0},uncheckedValue:{type:null,default:!1},beforeUpdate:Function,validateEvent:{type:Boolean,default:!0}},emits:["click","update:model-value","update:loading"],setup(e,{emit:g}){const b=e,V=h("switch"),_=y(),C=k(),S=a((()=>(null==_?void 0:_.disabled)??b.disabled)),j=a((()=>(null==_?void 0:_.readonly)??b.readonly)),x=l(b.modelValue);o((()=>b.modelValue),(()=>{x.value=b.modelValue,b.validateEvent&&(null==C||C.onChange())}));const w=l(b.loading);o((()=>b.loading),(()=>{w.value=b.loading}));const z=a((()=>x.value===b.checkedValue)),B=async e=>{if(g("click",e),S.value||j.value||w.value)return;const a=x.value===b.checkedValue?b.uncheckedValue:b.checkedValue;if(b.beforeUpdate)try{w.value=!0,await b.beforeUpdate(a)}catch{return}finally{w.value=!1}x.value=a,g("update:model-value",a)},U=a((()=>s(V.b(),V.m("checked",z.value),V.m("readonly",j.value),V.m("disabled",S.value),b.rootClass))),A=a((()=>t({fontSize:b.size,backgroundColor:z.value?b.checkedColor:b.uncheckedColor},b.rootStyle)));return(e,a)=>{const l=p;return n(),u(l,{class:r(i(U)),style:m(i(A)),onClick:B},{default:d((()=>[c(l,{class:r(i(V).e("thumb"))},{default:d((()=>[w.value?(n(),u(f,{key:0,size:"0.5em"})):v("",!0)])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-6c1c6402"]]);export{b as _};
