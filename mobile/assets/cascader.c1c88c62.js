import{d as e,S as l,p as s,g as a,A as t,q as o,s as n,o as u,f as r,w as i,e as c,u as d,x as p,h as v,y as m,c as f,F as b,b as h,i as _,t as y,l as g,T as j}from"./index-55845ce0.js";import{_ as x,a as S}from"./index.f4d2668a.js";import{_ as A}from"./tabs.d350218e.js";import{a as V}from"./index.f5b2fbd4.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const C={rootStyle:[String,Object,Array],rootClass:String,modelValue:[String,Number],options:{type:Array,default:()=>[]},fieldNames:Object,hintText:String,labelRender:Function},k={label:"label",value:"value",disabled:"disabled",children:"children"};function N(e,l,s){for(const a of e){if(a[s.value]===l)return[a];if(Array.isArray(a[s.children])){const e=N(a[s.children],l,s);if(e)return[a,...e]}}}const T=w(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"cascader",props:C,emits:["update:model-value","select"],setup(e,{emit:w}){const C=e,T=S("cascader"),{t:I}=l("cascader"),O=()=>{let e;if(void 0===z)e=[{options:C.options||[],selected:null}];else{const l=N(C.options||[],z,$.value);if(l){let s=C.options;e=l.map((e=>{const l={options:s,selected:e};return s=e.children,l})),s&&e.push({options:s,selected:null})}}e&&(U.value=e,D.value=e.length-1,H.value||setTimeout((()=>{H.value=!0}),30))},R=(e,l)=>{if(e.disabled)return;let s=U.value.slice();s[l].selected=e;if(l<s.length-1&&(s=s.slice(0,l+1)),(e=>!Array.isArray(e[$.value.children]))(e)){D.value=l;const a=e[$.value.value];q.value=a,w("update:model-value",a,s.map((e=>e.selected)))}else{const l={options:e[$.value.children],selected:null};s.push(l),D.value=s.length-1}z=e[$.value.value],U.value=s,w("select",e,l)},F=s((()=>C.hintText||I("pleaseSelect"))),$=s((()=>Object.assign({},k,C.fieldNames))),q=a(C.modelValue);let z=q.value;const D=a(0),H=a(!1),U=a([]),X=s((()=>U.value.map((e=>{const{selected:l}=e;return{title:l?l[$.value.label]:F.value}}))));t((()=>C.modelValue),(()=>{q.value=C.modelValue,void 0!==C.modelValue&&U.value.some((e=>{var l;return(null==(l=e.selected)?void 0:l[$.value.value])===C.modelValue}))||(z=C.modelValue,O())})),t((()=>C.options),(()=>{O()}),{immediate:!0});const B=s((()=>o(T.b(),C.rootClass))),E=s((()=>n(C.rootStyle)));return(e,l)=>{const s=g,a=j;return u(),r(s,{class:v(d(B)),style:m(d(E))},{default:i((()=>[c(A,{scrollable:"",current:D.value,"onUpdate:current":l[0]||(l[0]=e=>D.value=e),list:d(X)},null,8,["current","list"]),p(e.$slots,"top",{tabIndex:D.value},void 0,!0),c(s,{class:v(d(T).e("container"))},{default:i((()=>[c(s,{class:v(d(T).e("wrapper")),style:m(d(n)({transform:`translateX(${100*-Number(D.value)}%)`,transitionDuration:H.value?null:"0s"}))},{default:i((()=>[(u(!0),f(b,null,h(U.value,((l,t)=>(u(),r(s,{key:t,class:v(d(T).e("pane"))},{default:i((()=>[c(s,{class:v(d(T).e("options"))},{default:i((()=>[c(a,{"scroll-y":"",class:v(d(T).e("scroll"))},{default:i((()=>[(u(!0),f(b,null,h(l.options,((a,n)=>(u(),r(s,{key:n,class:v(d(o)(d(T).e("option"),d(T).em("option","selected",l.selected&&l.selected[d($).value]===a[d($).value]),d(T).em("option","disabled",a[d($).disabled]))),onClick:e=>R(a,t)},{default:i((()=>[c(s,{class:v(d(T).e("option-label"))},{default:i((()=>[_(y(e.labelRender?e.labelRender(a):a[d($).label]),1)])),_:2},1032,["class"]),c(s,{class:v(d(T).e("option-icon"))},{default:i((()=>[c(x,{name:"success"})])),_:1},8,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:2},1032,["class"]),c(s,{class:v(d(o)(d(T).e("loading-wrapper"),d(T).em("loading-wrapper","show",0===l.options.length)))},{default:i((()=>[c(s,{class:v(d(T).e("loading"))},{default:i((()=>[c(V)])),_:1},8,["class"])])),_:2},1032,["class"])])),_:2},1032,["class"])])),_:2},1032,["class"])))),128))])),_:1},8,["class","style"])])),_:1},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-74b4950a"]]);export{T as C,C as c,k as d,N as g};
