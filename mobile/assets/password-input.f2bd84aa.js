import{E as e,d as a,p as l,g as s,A as t,q as o,s as n,o as u,f as d,w as r,c as i,F as p,b as c,u as v,h as m,i as y,t as g,v as f,e as b,y as h,l as x,aa as _}from"./index-158834fb.js";import{b as B,_ as w}from"./index.a84991b2.js";import{a as I,u as S}from"./common.26852cb0.js";const k=w(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"password-input",props:{rootStyle:[String,Object,Array],rootClass:String,modelValue:String,length:{type:Number,default:e.passwordInput.length},type:{type:String,default:e.passwordInput.type},gap:[String,Number],plainText:Boolean,focused:Boolean,customKeyboard:Boolean,disabled:Boolean,readonly:Boolean,validateEvent:{type:Boolean,default:e.passwordInput.validateEvent}},emits:["update:model-value","updat:focused"],setup(e,{emit:a}){const w=e,k=B("password-input"),E=I(),j=S(),V=l((()=>(null==E?void 0:E.disabled)??w.disabled)),A=l((()=>(null==E?void 0:E.readonly)??w.readonly)),C=s(w.modelValue??"");t((()=>w.modelValue),(()=>{C.value=w.modelValue??"",w.validateEvent&&(null==j||j.onChange())}));const F=e=>{const l=e.detail.value;return C.value=l,a("update:model-value",l),l},K=s(w.focused);t((()=>w.focused),(()=>{K.value=w.focused}));const N=()=>{K.value=!0,a("updat:focused",!0)},T=()=>{K.value=!1,a("updat:focused",!1),w.validateEvent&&(null==j||j.onBlur())},q=l((()=>{const e=C.value.length;return Array(w.length).fill(0).map(((a,l)=>({index:l,active:K.value&&(l===e||l===e-1&&l===w.length-1)})))})),H=l((()=>0===w.gap||"string"==typeof w.gap&&0===parseInt(w.gap))),O=l((()=>o(k.b(),k.m("readonly",A.value),k.m("disabled",V.value),k.m(w.type,!H.value),k.m(`tight-${w.type}`,H.value),w.rootClass))),$=l((()=>n({gap:w.gap},w.rootStyle)));return(e,a)=>{const l=x,s=_;return u(),d(l,{class:m(v(O)),style:h(v($))},{default:r((()=>[(u(!0),i(p,null,c(v(q),(a=>(u(),d(l,{key:a.index,class:m(v(o)(v(k).e("item"),v(k).em("item","active",a.active)))},{default:r((()=>[a.index<C.value.length?(u(),i(p,{key:0},[e.plainText?(u(),d(l,{key:0,class:m(v(k).e("plaintext"))},{default:r((()=>[y(g(C.value[a.index]),1)])),_:2},1032,["class"])):(u(),d(l,{key:1,class:m(v(k).e("ciphertext"))},null,8,["class"]))],64)):f("",!0),K.value&&a.index===C.value.length?(u(),d(l,{key:1,class:m(v(k).e("cursor"))},null,8,["class"])):f("",!0)])),_:2},1032,["class"])))),128)),e.customKeyboard?f("",!0):(u(),d(l,{key:0,class:m(v(k).e("input-wrapper"))},{default:r((()=>[b(s,{type:"number",class:m(v(k).e("input")),disabled:v(V)||v(A),value:C.value,maxlength:e.length,onInput:F,onFocus:N,onBlur:T},null,8,["class","disabled","value","maxlength"])])),_:1},8,["class"]))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-b3c5384a"]]);export{k as _};
