import{d as e,g as r,o as l,f as a,w as o,e as s,i as t,c as n,b as i,F as u,H as d,r as c,a as f,l as p,V as m,t as _,aD as x}from"./index-158834fb.js";import{_ as g}from"./index.70abdba0.js";import{_ as h}from"./pull-down-refresh.8c2a8cba.js";import{a as y,_ as v}from"./index.be0dc1e1.js";import{_ as w}from"./button.90fb394d.js";import{a as b}from"./index.a84991b2.js";import"./dom.607148e9.js";import"./common.26852cb0.js";const j=e({__name:"ScrollView",setup(e){const x=r(!1),g=r(),y=e=>{var r;null==(r=g.value)||r.setScrollTop(e.detail.scrollTop)},v=()=>{x.value=!0,new Promise((e=>{setTimeout((()=>{e()}),1e3)})).then((()=>{d("刷新成功")})).catch((()=>{d("刷新失败")})).finally((()=>{x.value=!1}))};return(e,r)=>{const d=c(f("sar-button"),w),b=p,j=c(f("sar-pull-down-refresh"),h),k=m;return l(),a(b,null,{default:o((()=>[s(d,{onClick:r[0]||(r[0]=e=>x.value=!x.value)},{default:o((()=>[t("toggle loading")])),_:1}),s(k,{"scroll-y":"",style:{height:"300px",margin:"20rpx 0",border:"1px solid var(--sar-border-color)"},onScroll:y},{default:o((()=>[s(j,{loading:x.value,ref_key:"pullDownRefresh",ref:g,onRefresh:v},{default:o((()=>[(l(),n(u,null,i(10,(e=>s(b,{key:e,style:{display:"flex","justify-content":"center","align-items":"center",margin:"10rpx 32rpx",height:"40px",border:"1px solid var(--sar-border-color)"}},{default:o((()=>[t(_(e),1)])),_:2},1024))),64))])),_:1},8,["loading"])])),_:1})])),_:1})}}}),k=e({__name:"Slot",setup(e){const d=r(!1),x=r(),g=e=>{var r;null==(r=x.value)||r.setScrollTop(e.detail.scrollTop)},v=r(""),w=()=>{d.value=!0,new Promise((e=>{setTimeout((()=>{e()}),1e3)})).then((()=>{v.value="刷新成功"})).catch((()=>{v.value="刷新失败"})).finally((()=>{d.value=!1}))};return(e,r)=>{const j=c(f("sar-icon"),b),k=c(f("sar-loading"),y),T=p,S=c(f("sar-pull-down-refresh"),h),R=m;return l(),a(T,null,{default:o((()=>[s(R,{"scroll-y":"",style:{height:"300px",margin:"20rpx 0",border:"1px solid var(--sar-border-color)"},onScroll:g},{default:o((()=>[s(S,{loading:d.value,ref_key:"pullDownRefresh",ref:x,"done-duration":500,onRefresh:w},{unready:o((({progress:e})=>[s(k,{size:"48rpx",animated:!1,progress:e},{circular:o((()=>[s(j,{family:"demo-icons",name:"arrow-clockwise"})])),default:o((()=>[t(" 下拉刷新 ")])),_:2},1032,["progress"])])),ready:o((()=>[s(k,{size:"48rpx",animated:!1},{circular:o((()=>[s(j,{family:"demo-icons",name:"arrow-clockwise"})])),default:o((()=>[t(" 释放刷新 ")])),_:1})])),loading:o((()=>[s(k,{size:"48rpx"},{circular:o((()=>[s(j,{family:"demo-icons",name:"arrow-clockwise"})])),default:o((()=>[t(" 加载中... ")])),_:1})])),done:o((()=>[t(_(v.value),1)])),default:o((()=>[(l(),n(u,null,i(10,(e=>s(T,{key:e,style:{display:"flex","justify-content":"center","align-items":"center",margin:"10rpx 32rpx",height:"40px",border:"1px solid var(--sar-border-color)"}},{default:o((()=>[t(_(e),1)])),_:2},1024))),64))])),_:1},8,["loading"])])),_:1})])),_:1})}}}),T=e({__name:"index",setup(e){const m=r(!1),y=r();x((({scrollTop:e})=>{var r;null==(r=y.value)||r.setScrollTop(e)}));const w=()=>{m.value=!0,new Promise((e=>{setTimeout((()=>{e()}),1e3)})).then((()=>{d("刷新成功")})).catch((()=>{d("刷新失败")})).finally((()=>{m.value=!1}))};return(e,r)=>{const d=p,x=c(f("doc-demo"),g),b=c(f("sar-pull-down-refresh"),h),T=c(f("doc-page"),v);return l(),a(T,{emphasis:""},{default:o((()=>[s(x,{title:"基于页面的刷新",full:""},{default:o((()=>[s(b,{loading:m.value,ref_key:"pullDownRefresh",ref:y,onRefresh:w},{default:o((()=>[(l(),n(u,null,i(5,(e=>s(d,{key:e,style:{display:"flex","justify-content":"center","align-items":"center",margin:"0 32rpx 10rpx",height:"40px",border:"1px solid var(--sar-border-color)"}},{default:o((()=>[t(_(e),1)])),_:2},1024))),64)),s(x,{title:"基于 scroll-view 的刷新"},{default:o((()=>[s(j)])),_:1}),s(x,{title:"自定义插槽"},{default:o((()=>[s(k)])),_:1})])),_:1},8,["loading"])])),_:1})])),_:1})}}});export{T as default};
