import{d as e,g as l,r,a,o,f as s,w as t,e as n,i,c as u,b as d,F as c,I as f,l as p,X as m,t as h,aF as _}from"./index-cDBoG4Q4.js";import{_ as v}from"./index.CA5jYfGe.js";import{_ as x}from"./pull-down-refresh.CmPOEjvU.js";import{a as g,_ as y}from"./index.BXD0v1E4.js";import{_ as w}from"./button.D0jjfd-b.js";import{a as b}from"./index.DPvFFOke.js";import"./dom.v6hFRhZS.js";import"./common.C5AqtFVf.js";const j=e({__name:"ScrollView",setup(e){const _=l(!1),v=l(),g=e=>{var l;null==(l=v.value)||l.enableToRefresh(0===e.detail.scrollTop)},y=()=>{var e;null==(e=v.value)||e.enableToRefresh(!0)},b=()=>{_.value=!0,new Promise((e=>{setTimeout((()=>{e()}),1e3)})).then((()=>{f("刷新成功")})).catch((()=>{f("刷新失败")})).finally((()=>{_.value=!1}))};return(e,l)=>{const f=r(a("sar-button"),w),j=p,k=r(a("sar-pull-down-refresh"),x),R=m;return o(),s(j,null,{default:t((()=>[n(f,{onClick:l[0]||(l[0]=e=>_.value=!_.value)},{default:t((()=>[i("toggle loading")])),_:1}),n(R,{"scroll-y":"",style:{height:"300px",margin:"20rpx 0",border:"1px solid var(--sar-border-color)"},throttle:!1,onScroll:g,onScrolltoupper:y},{default:t((()=>[n(k,{loading:_.value,ref_key:"pullDownRefresh",ref:v,onRefresh:b},{default:t((()=>[(o(),u(c,null,d(10,(e=>n(j,{key:e,style:{display:"flex","justify-content":"center","align-items":"center",margin:"10rpx 32rpx",height:"40px",border:"1px solid var(--sar-border-color)"}},{default:t((()=>[i(h(e),1)])),_:2},1024))),64))])),_:1},8,["loading"])])),_:1})])),_:1})}}}),k=e({__name:"Slot",setup(e){const f=l(!1),_=l(),v=e=>{var l;null==(l=_.value)||l.enableToRefresh(0===e.detail.scrollTop)},y=()=>{var e;null==(e=_.value)||e.enableToRefresh(!0)},w=l(""),j=()=>{f.value=!0,new Promise((e=>{setTimeout((()=>{e()}),1e3)})).then((()=>{w.value="刷新成功"})).catch((()=>{w.value="刷新失败"})).finally((()=>{f.value=!1}))};return(e,l)=>{const k=r(a("sar-icon"),b),R=r(a("sar-loading"),g),T=p,S=r(a("sar-pull-down-refresh"),x),z=m;return o(),s(T,null,{default:t((()=>[n(z,{"scroll-y":"",style:{height:"300px",margin:"20rpx 0",border:"1px solid var(--sar-border-color)"},throttle:!1,onScroll:v,onScrolltoupper:y},{default:t((()=>[n(S,{loading:f.value,ref_key:"pullDownRefresh",ref:_,"done-duration":500,onRefresh:j},{unready:t((({progress:e})=>[n(R,{size:"48rpx",animated:!1,progress:e},{circular:t((()=>[n(k,{family:"demo-icons",name:"arrow-clockwise"})])),default:t((()=>[i(" 下拉刷新 ")])),_:2},1032,["progress"])])),ready:t((()=>[n(R,{size:"48rpx",animated:!1},{circular:t((()=>[n(k,{family:"demo-icons",name:"arrow-clockwise"})])),default:t((()=>[i(" 释放刷新 ")])),_:1})])),loading:t((()=>[n(R,{size:"48rpx"},{circular:t((()=>[n(k,{family:"demo-icons",name:"arrow-clockwise"})])),default:t((()=>[i(" 加载中... ")])),_:1})])),done:t((()=>[i(h(w.value),1)])),default:t((()=>[(o(),u(c,null,d(10,(e=>n(T,{key:e,style:{display:"flex","justify-content":"center","align-items":"center",margin:"10rpx 32rpx",height:"40px",border:"1px solid var(--sar-border-color)"}},{default:t((()=>[i(h(e),1)])),_:2},1024))),64))])),_:1},8,["loading"])])),_:1})])),_:1})}}}),R=e({__name:"index",setup(e){const m=l(!1),g=l();_((({scrollTop:e})=>{var l;null==(l=g.value)||l.enableToRefresh(0===e)}));const w=()=>{m.value=!0,new Promise((e=>{setTimeout((()=>{e()}),1e3)})).then((()=>{f("刷新成功")})).catch((()=>{f("刷新失败")})).finally((()=>{m.value=!1}))};return(e,l)=>{const f=p,_=r(a("doc-demo"),v),b=r(a("sar-pull-down-refresh"),x),R=r(a("doc-page"),y);return o(),s(R,{emphasis:""},{default:t((()=>[n(_,{title:"基于页面的刷新",full:""},{default:t((()=>[n(b,{loading:m.value,ref_key:"pullDownRefresh",ref:g,onRefresh:w},{default:t((()=>[(o(),u(c,null,d(5,(e=>n(f,{key:e,style:{display:"flex","justify-content":"center","align-items":"center",margin:"0 32rpx 10rpx",height:"40px",border:"1px solid var(--sar-border-color)"}},{default:t((()=>[i(h(e),1)])),_:2},1024))),64)),n(_,{title:"基于 scroll-view 的刷新"},{default:t((()=>[n(j)])),_:1}),n(_,{title:"自定义插槽"},{default:t((()=>[n(k)])),_:1})])),_:1},8,["loading"])])),_:1})])),_:1})}}});export{R as default};
