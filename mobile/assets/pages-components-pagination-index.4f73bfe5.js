import{_ as e}from"./index.70abdba0.js";import{E as t,d as a,T as n,p as s,g as u,A as l,W as r,q as i,s as o,o as p,f as c,w as m,e as d,h as v,u as g,x as _,i as f,t as y,c as C,F as b,b as x,y as k,l as S,r as h,a as j}from"./index-158834fb.js";import{_ as z}from"./index.be0dc1e1.js";import{b as B,_ as N,a as U}from"./index.a84991b2.js";const A=N(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"pagination",props:{rootStyle:[String,Object,Array],rootClass:String,total:{type:Number,default:t.pagination.total},pageSize:{type:Number,default:t.pagination.pageSize},current:{type:Number,default:t.pagination.current},pageCount:Number,pageButtonCount:{type:Number,default:t.pagination.pageButtonCount},hideOnSinglePage:Boolean,type:{type:String,default:t.pagination.type},ellipsis:Boolean,multiCount:{type:Number,default:t.pagination.multiCount}},emits:["update:current"],setup(e,{emit:t}){const a=e,{t:h}=n("pagination"),j=B("pagination"),z=s((()=>(a.pageCount??Math.ceil(a.total/a.pageSize))||1)),N=u(a.current);l((()=>a.current),(()=>{N.value=a.current}));const U=s((()=>function(e,t,a){let n=e-Math.ceil((a-1)/2),s=e+Math.floor((a-1)/2);const u=1-n,l=s-t;return l>0&&(n-=l),n<1&&(n=1),u>0&&(s+=u),s>t&&(s=t),[n,s]}(N.value,z.value,a.pageButtonCount))),A=()=>{N.value>1&&M(N.value-1)},I=()=>{N.value<z.value&&M(N.value+1)},M=e=>{e!==N.value&&(N.value=e,t("update:current",e))},E=s((()=>{if("simple"===a.type)return[];const e=U.value[1]-U.value[0]+1;return Array(e).fill(0).map(((t,n)=>{let s=n+U.value[0];const u=0===n&&1!==s,l=n===e-1&&s!==z.value,i=u?-1:l?1:0;return s=0===i?s:r(N.value+i*a.multiCount,1,z.value),{active:N.value===s,page:s,key:n,text:a.ellipsis&&(u||l)?"...":s}}))})),O=s((()=>i(j.b(),j.m(a.type),a.rootClass))),$=s((()=>o(a.rootStyle)));return(e,t)=>{const a=S;return p(),c(a,{class:v(g(O)),style:k(g($))},{default:m((()=>[d(a,{class:v(g(i)(g(j).e("item"),g(j).em("item","disabled",1===N.value),g(j).e("prev"))),onClick:A},{default:m((()=>[_(e.$slots,"prev",{},(()=>[f(y(g(h)("previous")),1)]),!0)])),_:3},8,["class"]),"simple"===e.type?(p(),c(a,{key:0,class:v(g(j).e("ratio"))},{default:m((()=>[f(y(N.value)+"/"+y(g(z)),1)])),_:1},8,["class"])):(p(!0),C(b,{key:1},x(g(E),(e=>(p(),c(a,{key:e.key,class:v(g(i)(g(j).e("item"),g(j).em("item","current",e.active))),onClick:t=>{return a=e.page,void M(a);var a}},{default:m((()=>[f(y(e.text),1)])),_:2},1032,["class","onClick"])))),128)),d(a,{class:v(g(i)(g(j).e("item"),g(j).em("item","disabled",N.value===g(z)),g(j).e("next"))),onClick:I},{default:m((()=>[_(e.$slots,"next",{},(()=>[f(y(g(h)("next")),1)]),!0)])),_:3},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0aa50b80"]]),I=a({__name:"Basic",setup(e){const t=u(1);return(e,a)=>{const n=h(j("sar-pagination"),A);return p(),c(n,{total:100,current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},null,8,["current"])}}}),M=a({__name:"Ellipsis",setup(e){const t=u(1);return(e,a)=>{const n=h(j("sar-pagination"),A);return p(),c(n,{total:100,"page-size":10,ellipsis:"",current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},null,8,["current"])}}}),E=a({__name:"Simple",setup(e){const t=u(1);return(e,a)=>{const n=h(j("sar-pagination"),A);return p(),c(n,{total:43,"page-size":10,type:"simple",current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},null,8,["current"])}}}),O=a({__name:"Custom",setup(e){const t=u(1);return(e,a)=>{const n=h(j("sar-icon"),U),s=h(j("sar-pagination"),A);return p(),c(s,{total:100,"page-size":10,current:t.value,"onUpdate:current":a[0]||(a[0]=e=>t.value=e)},{prev:m((()=>[d(n,{name:"left"})])),next:m((()=>[d(n,{name:"right"})])),_:1},8,["current"])}}}),$=N(a({__name:"index",setup:t=>(t,a)=>{const n=h(j("doc-demo"),e),s=h(j("doc-page"),z);return p(),c(s,{emphasis:""},{default:m((()=>[d(n,{title:"基础使用"},{default:m((()=>[d(I)])),_:1}),d(n,{title:"显示省略号"},{default:m((()=>[d(M)])),_:1}),d(n,{title:"简单分页"},{default:m((()=>[d(E)])),_:1}),d(n,{title:"自定义"},{default:m((()=>[d(O)])),_:1})])),_:1})}}),[["__scopeId","data-v-9664e69f"]]);export{$ as default};
