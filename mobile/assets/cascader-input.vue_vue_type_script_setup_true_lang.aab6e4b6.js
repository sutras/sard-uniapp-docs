import{d as e,g as l,A as a,p as o,o as s,c as t,e as i,w as d,f as n,x as u,v,F as r,z as p}from"./index-55845ce0.js";import{p as m,_ as c}from"./popout-input.5019c607.js";import{c as b,d as f,C as h,g as y}from"./cascader.c1c88c62.js";import{_ as C}from"./popout.f26c366d.js";const V=e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"cascader-input",props:{...m,...b,visible:Boolean,title:String,showConfirm:{type:Boolean,default:!0}},emits:["update:visible","update:model-value","select"],setup(e,{emit:m}){const b=e,V=l(b.modelValue);a((()=>b.modelValue),(()=>{V.value=b.modelValue}));const x=l(b.modelValue);a(V,(()=>{x.value=V.value}));const _=()=>{V.value=x.value,m("update:model-value",x.value),w.value=I()},j=e=>{x.value=e,b.showConfirm||p(x.value)||(_(),U.value=!1)},w=l(""),g=o((()=>Object.assign({},f,b.fieldNames)));function I(){return p(V.value)||!b.options?"":function(e,l,a){const o=y(e,l,a);return o?o.map((e=>e[a.label])).join("/"):""}(b.options,V.value,g.value)}a(V,(()=>{w.value=I()}),{immediate:!0});const S=()=>{w.value="",V.value=void 0,m("update:model-value",void 0)},U=l(b.visible);a((()=>b.visible),(()=>{U.value=b.visible}));const k=e=>{U.value=e,m("update:visible",e)},B=()=>{U.value=!0,m("update:visible",!0)};return(e,l)=>(s(),t(r,null,[i(c,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,clearable:e.clearable,onClear:S,onClick:B,"validate-event":e.validateEvent},null,8,["modelValue","placeholder","readonly","disabled","clearable","validate-event"]),i(C,{"root-class":e.rootClass,"root-style":e.rootStyle,visible:U.value,"onUpdate:visible":k,title:e.title??e.placeholder,"show-confirm":e.showConfirm,onConfirm:_},{visible:d((({already:a})=>[a?(s(),n(h,{key:0,"model-value":x.value,"onUpdate:modelValue":j,options:e.options,"field-names":e.fieldNames,placeholder:e.hintText,onSelect:l[1]||(l[1]=(l,a)=>e.$emit("select",l,a))},{top:d((({tabIndex:l})=>[u(e.$slots,"top",{tabIndex:l})])),_:3},8,["model-value","options","field-names","placeholder"])):v("",!0)])),_:3},8,["root-class","root-style","visible","title","show-confirm"])],64))}});export{V as _};
