import{E as e,d as a,p as l,g as o,A as s,q as t,s as d,o as u,f as n,w as c,e as i,h as r,u as v,v as m,y as h,l as p}from"./index-158834fb.js";import{b as k,_ as f}from"./index.a84991b2.js";import{a as y}from"./index.be0dc1e1.js";import{a as b,u as g}from"./common.26852cb0.js";const V=f(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"switch",props:{rootStyle:[String,Object,Array],rootClass:String,modelValue:null,disabled:Boolean,readonly:Boolean,loading:Boolean,size:String,checkedColor:String,uncheckedColor:String,checkedValue:{type:null,default:e.switch.checkedValue},uncheckedValue:{type:null,default:e.switch.uncheckedValue},beforeUpdate:Function,validateEvent:{type:Boolean,default:e.switch.validateEvent}},emits:["click","update:model-value","update:loading"],setup(e,{emit:a}){const f=e,V=k("switch"),C=b(),S=g(),_=l((()=>(null==C?void 0:C.disabled)??f.disabled)),w=l((()=>(null==C?void 0:C.readonly)??f.readonly)),j=o(f.modelValue);s((()=>f.modelValue),(()=>{j.value=f.modelValue,f.validateEvent&&(null==S||S.onChange())}));const x=o(f.loading);s((()=>f.loading),(()=>{x.value=f.loading}));const z=l((()=>j.value===f.checkedValue)),B=async e=>{if(a("click",e),_.value||w.value||x.value)return;const l=j.value===f.checkedValue?f.uncheckedValue:f.checkedValue;if(f.beforeUpdate)try{x.value=!0,await f.beforeUpdate(l)}catch{return}finally{x.value=!1}j.value=l,a("update:model-value",l)},E=l((()=>t(V.b(),V.m("checked",z.value),V.m("readonly",w.value),V.m("disabled",_.value),f.rootClass))),U=l((()=>d({fontSize:f.size,backgroundColor:z.value?f.checkedColor:f.uncheckedColor},f.rootStyle)));return(e,a)=>{const l=p;return u(),n(l,{class:r(v(E)),style:h(v(U)),onClick:B},{default:c((()=>[i(l,{class:r(v(V).e("thumb"))},{default:c((()=>[x.value?(u(),n(y,{key:0,size:"0.5em"})):m("",!0)])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-b57f7812"]]);export{V as _};
