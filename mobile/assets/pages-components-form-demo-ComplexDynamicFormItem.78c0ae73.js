import{_ as e}from"./picker-input.vue_vue_type_script_setup_true_lang.3ddd2be6.js";import{d as a,g as l,C as s,A as i,o as t,f as r,w as o,e as n,c as u,b as m,F as d,i as p,R as c,G as f,r as g,a as h,l as _}from"./index-9377a170.js";import{_ as j,a as v}from"./form.aa22a0ea.js";import{I as b}from"./input.c692577b.js";import{_ as x}from"./index.fad96fb0.js";import{_ as V}from"./button.65db1ec1.js";import{_ as k}from"./index.913a9e45.js";import"./popout-input.5468f506.js";import"./common.802edc1c.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./popout.28d9c047.js";import"./picker.af0f73c7.js";import"./dom.8f2393f5.js";const y=a({__name:"ComplexDynamicFormItem",setup(a){const y=[{label:"Beijing",value:"Beijing"},{label:"Shanghai",value:"Shanghai"}],C={Beijing:["Tiananmen","Great Wall"],Shanghai:["Oriental Pearl","The Bund"]},S=l(),w=s({sights:[],area:""});i((()=>w.area),(()=>{w.sights=[]}));const U=()=>{var e;null==(e=S.value)||e.validate().then((()=>{console.log("Received values of form:",c(w)),f("success")})).catch((()=>{console.log("fail")}))};return(a,l)=>{const s=g(h("sar-picker-input"),e),i=g(h("sar-form-item"),j),c=g(h("sar-input"),b),f=g(h("sar-icon"),x),A=g(h("sar-button"),V),B=_,q=g(h("sar-form"),v),M=g(h("doc-page"),k);return t(),r(M,null,{default:o((()=>[n(q,{ref_key:"formRef",ref:S,model:w},{default:o((()=>[n(i,{name:"area",label:"Area",rules:[{required:!0,message:"Missing area"}]},{default:o((()=>[n(s,{modelValue:w.area,"onUpdate:modelValue":l[0]||(l[0]=e=>w.area=e),placeholder:"Area",columns:y},null,8,["modelValue"])])),_:1}),(t(!0),u(d,null,m(w.sights,((e,a)=>(t(),r(i,{key:e.id},{default:o((()=>[n(B,{style:{display:"flex","align-items":"center",gap:"20rpx"}},{default:o((()=>[n(i,{name:["sights",a,"value"],label:"Sight","label-width":"100rpx",rules:{required:!0,message:"Missing sight"},inlaid:""},{default:o((()=>[n(s,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,placeholder:"Sight",disabled:!w.area,columns:(C[w.area]||[]).map((e=>({value:e,label:e})))},null,8,["modelValue","onUpdate:modelValue","disabled","columns"])])),_:2},1032,["name"]),n(i,{name:["sights",a,"price"],label:"Price","label-width":"100rpx",rules:{required:!0,message:"Missing price"},inlaid:""},{default:o((()=>[n(c,{inlaid:"",placeholder:"Price",modelValue:e.price,"onUpdate:modelValue":a=>e.price=a},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["name"]),n(A,{type:"mild",size:"small",onClick:a=>(e=>{const a=w.sights.indexOf(e);-1!==a&&w.sights.splice(a,1)})(e)},{default:o((()=>[n(f,{name:"minus"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),n(i,null,{default:o((()=>[n(A,{type:"outline",onClick:l[1]||(l[1]=e=>{w.sights.push({value:"",price:"",id:Date.now()})})},{default:o((()=>[n(f,{name:"plus"}),p(" Add sights ")])),_:1})])),_:1}),n(i,null,{default:o((()=>[n(A,{onClick:U},{default:o((()=>[p("Submit")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}});export{y as default};
