import{E as e,g as t,B as a,C as l,m as s,A as o,p as n,M as r,P as i,d as u,D as v,q as c,s as d,u as p,o as y,f,w as b,x as m,h as g,y as x,R as S,v as _,l as k,c as C,e as $,F as h,b as T,X as I,i as z,t as H,Y as B,Z as A,_ as j,$ as V,r as w,a as E}from"./index-158834fb.js";import{b as N,_ as D,a as F,c as M}from"./index.a84991b2.js";const O={rootStyle:[String,Object,Array],rootClass:String,visible:Boolean,duration:{type:[Number,Array],default:e.popup.duration},effect:{type:String,default:e.popup.effect},overlay:{type:Boolean,default:e.popup.overlay},overlayClass:String,overlayStyle:String,background:String,transparent:Boolean},L=Symbol("popup-context");function R(){const e=t();return a(L,l({visibleState:e})),function(t){e.value=t}}function q(e){const t=s(L,null);t&&o((()=>t.visibleState),(()=>{"enter"===t.visibleState&&(null==e||e())}))}function P(){return!!s(L,null)}function U(e={}){const a=n((()=>e.duration||0)),l=n((()=>e.enterFromClass||`${e.prefix}enter-from`)),s=n((()=>e.enterActiveClass||`${e.prefix}enter-active`)),u=n((()=>e.enterToClass||`${e.prefix}enter-to`)),v=n((()=>e.leaveFromClass||`${e.prefix}leave-from`)),c=n((()=>e.leaveActiveClass||`${e.prefix}leave-active`)),d=n((()=>e.leaveToClass||`${e.prefix}leave-to`)),p=t(!1),y=t("");let f,b,m="";function g(e){b=setTimeout((()=>{b=null,e()}),30)}function x(){b&&(clearTimeout(b),b=null),f&&(clearTimeout(f),f=null)}function S(t){var a;null==(a=e.onVisibleHook)||a.call(e,t)}function _(){x(),"leaving"===m&&S("leave-cancelled"),m="entering",p.value=!0,y.value=`${l.value} ${s.value}`,S("before-enter"),g((()=>{y.value=`${s.value} ${u.value}`,S("enter")})),f=setTimeout((()=>{f=null,"entering"===m&&e.visible&&k()}),a.value+30)}function k(){x(),m="entered",y.value="",S("after-enter")}function C(){x(),m="leaved",y.value="",p.value=!1,S("after-leave")}return r((()=>{e.visible&&_()})),i((()=>{f&&(clearTimeout(f),f=null),b&&(clearTimeout(b),b=null)})),o((()=>e.visible),(()=>{e.visible?_():(x(),"entering"===m&&S("enter-cancelled"),m="leaving",y.value=`${v.value} ${c.value}`,S("before-leave"),g((()=>{y.value=`${c.value} ${d.value}`,S("leave")})),f=setTimeout((()=>{f=null,"leaving"!==m||e.visible||C()}),a.value+30))})),{onTransitionEnd:function(){"entering"===m&&e.visible?k():"leaving"!==m||e.visible||C()},realVisible:p,transitionClass:y}}function W(e){let t;const a=()=>{t&&(clearTimeout(t),t=null)};return i((()=>{a()})),[l=>{a(),t=setTimeout((()=>{t=null,e()}),l)},a,()=>!!t]}let X=1e3;function Y(){const e=t(X);return[e,function(){e.value=X+=1}]}const Z=D(u({options:{virtualHost:!0,styleIsolation:"shared"},__name:"overlay",props:{rootStyle:[String,Object,Array],rootClass:String,visible:Boolean,zIndex:Number,duration:{type:[Number,Array],default:e.overlay.duration},background:String,transparent:Boolean},emits:["click"],setup(e,{emit:t}){const a=e,s=N("overlay"),o=e=>{t("click",e)},{realVisible:r,transitionClass:i,onTransitionEnd:u}=U(l({visible:v(a,"visible"),duration:v(a,"duration"),prefix:s.m("")})),C=n((()=>c(s.b(),s.m("transparent",a.transparent),i.value,a.rootClass))),$=n((()=>d({zIndex:a.zIndex,backgroundColor:a.background,transitionDuration:a.duration+"ms"},a.rootStyle)));return(e,t)=>{const a=k;return p(r)?(y(),f(a,{key:0,class:g(p(C)),style:x(p($)),onClick:o,onTransitionend:p(u),onTouchmove:t[0]||(t[0]=S((()=>{}),["stop","prevent"]))},{default:b((()=>[m(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTransitionend"])):_("",!0)}}}),[["__scopeId","data-v-6ffa6ba5"]]),G=D(u({options:{virtualHost:!0,styleIsolation:"shared"},__name:"popup",props:O,emits:["overlay-click","before-enter","enter","after-enter","enter-cancelled","before-leave","leave","after-leave","leave-cancelled","visible-hook"],setup(e,{emit:t}){const a=e,s=N("popup"),[o,r]=Y(),i=R(),{realVisible:u,transitionClass:S,onTransitionEnd:T}=U(l({visible:v(a,"visible"),duration:v(a,"duration"),prefix:n((()=>s.m(a.effect)+"-")),onVisibleHook:e=>{i(e),t("visible-hook",e),t(e),"before-enter"===e&&r()}})),I=e=>{t("overlay-click",e)},z=n((()=>c(s.b(),s.m(a.effect),a.rootClass,S.value))),H=n((()=>d(a.rootStyle,{zIndex:o.value,display:u.value?"flex":"none",transitionDuration:a.duration+"ms"})));return(e,t)=>{const a=k;return y(),C(h,null,[e.overlay?(y(),f(Z,{key:0,visible:e.visible,duration:e.duration,"z-index":p(o),background:e.background,transparent:e.transparent,"root-style":e.overlayStyle,"root-class":e.overlayClass,onClick:I},null,8,["visible","duration","z-index","background","transparent","root-style","root-class"])):_("",!0),$(a,{class:g(p(z)),style:x(p(H)),onTransitionend:p(T)},{default:b((()=>[m(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTransitionend"])],64)}}}),[["__scopeId","data-v-753e58a6"]]),J=D(u({options:{virtualHost:!0,styleIsolation:"shared"},__name:"loading",props:{rootStyle:[String,Object,Array],rootClass:String,type:{type:String,default:e.loading.type},color:String,size:String,text:String,textColor:String,textSize:String,vertical:Boolean,animated:{type:Boolean,default:!0},progress:{type:Number,default:1}},setup(e){const t=e,a=N("loading"),l=n((()=>Math.max(Math.floor(12*t.progress),1))),s=n((()=>c(a.b(),a.m("vertical",t.vertical)))),o=n((()=>c(a.e("icon"),a.em("icon",t.type),a.em("icon","animated",t.animated)))),r=n((()=>d({color:t.color,fontSize:t.size},"circular"!==t.type||t.animated?null:{transform:`rotate(${360*t.progress}deg)`},t.rootClass))),i=n((()=>d({color:t.textColor,fontSize:t.textSize},t.rootStyle)));return(e,n)=>{const u=k;return y(),f(u,{class:g(p(s))},{default:b((()=>[$(u,{class:g(p(o)),style:x(p(r))},{default:b((()=>["circular"===e.type?m(e.$slots,"circular",{key:0},(()=>[$(u,{class:g(p(a).e("spinner"))},null,8,["class"])]),!0):"clock"===e.type?(y(),C(h,{key:1},T(12,(e=>$(u,{key:e,class:g(p(c)(p(a).e("scale"),p(a).em("scale",e),t.animated?null:{[p(a).em("scale","hidden")]:e>p(l)}))},null,8,["class"]))),64)):_("",!0)])),_:3},8,["class","style"]),p(I)(e.$slots.default||e.text)?(y(),f(u,{key:0,class:g(p(a).e("text")),style:x(p(i))},{default:b((()=>[m(e.$slots,"default",{},(()=>[z(H(e.text),1)]),!0)])),_:3},8,["class","style"])):_("",!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-bdd1762a"]]),K=D(u({options:{virtualHost:!0,styleIsolation:"shared"},__name:"toast",props:B,emits:["update:visible"],setup(e,{expose:a,emit:l}){const s=e,r=N("toast"),i=t(s.visible),[u,v]=W((()=>{i.value=!1,l("update:visible",!1)}));o((()=>s.visible),(()=>{i.value=s.visible,s.visible&&"loading"!==s.type&&s.timeout>0&&u(s.timeout)})),a({reHideLater:()=>{v(),A((()=>{"loading"!==s.type&&s.timeout>0&&u(s.timeout)}))},cancelHide:v});const m=n((()=>c(r.b(),r.m("is-text","text"===s.type),r.m("not-text","text"!==s.type),s.rootClass))),S=n((()=>d(s.rootStyle))),C=n((()=>{const e={top:{top:"var(--sar-toast-top)",transform:"translate(-50%, 0)"},bottom:{top:"auto",bottom:"var(--sar-toast-bottom)",transform:"translate(-50%, 0)"},center:null}[s.position];return d({width:"max-content",maxWidth:"var(--sar-toast-text-max-width)",...e})})),h=n((()=>c(r.e("icon"),r.em("icon","loading","loading"===s.type))));return(e,t)=>{const a=k;return y(),f(G,{visible:e.visible,overlay:e.overlay,duration:e.duration,transparent:e.transparent,"root-style":p(C),effect:"fade"},{default:b((()=>[$(a,{class:g(p(m)),style:x(p(S))},{default:b((()=>["text"!==e.type?(y(),f(a,{key:0,class:g(p(h))},{default:b((()=>["loading"===e.type?(y(),f(J,{key:0})):(y(),f(F,{key:1,name:e.type},null,8,["name"]))])),_:1},8,["class"])):_("",!0),$(a,{class:g(p(r).e("title"))},{default:b((()=>[z(H(e.title),1)])),_:1},8,["class"])])),_:1},8,["class","style"])])),_:1},8,["visible","overlay","duration","transparent","root-style"])}}}),[["__scopeId","data-v-3bbb7d3a"]]),Q=u({options:{virtualHost:!0,styleIsolation:"shared"},__name:"toast-agent",props:j,setup(e){const a=e,l=t({...a}),s=t(),o={show(e){var t;l.value={...a,...e,visible:!0},null==(t=s.value)||t.reHideLater()},hide(){var e;l.value={...l.value,visible:!1},null==(e=s.value)||e.cancelHide()}};return r((()=>{l.value.id&&(V[l.value.id]=o)})),i((()=>{l.value.id&&delete V[l.value.id]})),(e,t)=>(y(),f(K,{"root-style":l.value.rootStyle,"root-class":l.value.rootClass,type:l.value.type,title:l.value.title,visible:l.value.visible,"onUpdate:visible":t[0]||(t[0]=e=>l.value.visible=e),position:l.value.position,overlay:l.value.overlay,transparent:l.value.transparent,ref_key:"elRef",ref:s},null,8,["root-style","root-class","type","title","visible","position","overlay","transparent"]))}}),ee=D(u({__name:"index",props:{emphasis:{type:Boolean}},setup(e){const t=M("page");return(a,l)=>{const s=w(E("sar-toast-agent"),Q),o=k;return y(),C(h,null,[$(s),$(o,{class:g(p(c)(p(t).b(),p(t).m("emphasis",e.emphasis)))},{default:b((()=>[m(a.$slots,"default",{},void 0,!0)])),_:3},8,["class"])],64)}}}),[["__scopeId","data-v-fd1a29ab"]]);export{G as S,ee as _,J as a,R as b,q as c,U as d,W as e,Z as f,Y as g,P as u};
