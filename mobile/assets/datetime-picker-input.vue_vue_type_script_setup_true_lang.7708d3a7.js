import{d as e,g as a,A as l,p as t,o,c as s,e as i,w as u,f as v,v as r,F as m,z as d}from"./index-9377a170.js";import{p as n,_ as p}from"./popout-input.5468f506.js";import{_ as c}from"./popout.28d9c047.js";import{j as Y,k as y,l as b,_ as f,n as _,f as M}from"./datetime-picker.vue_vue_type_script_setup_true_lang.176c8efc.js";const H={...n,...Y,visible:Boolean,title:String,outletFormat:String},h={y:"YYYY",yM:"YYYY-MM",yMd:"YYYY-MM-DD",yMdhm:"YYYY-MM-DD HH:mm",yMdhms:"YYYY-MM-DD HH:mm:ss",hm:"HH:mm",hms:"HH:mm:ss"},V=e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"datetime-picker-input",props:H,emits:["update:visible","update:model-value"],setup(e,{emit:n}){const Y=e,H=a(Y.modelValue);l((()=>Y.modelValue),(()=>{H.value=Y.modelValue}));const V=a(Y.modelValue),D=e=>{V.value=e},k=e=>{"enter"!==e||d(H.value)||V.value===H.value||(V.value=H.value)},x=t((()=>Y.min||y())),j=t((()=>{const e=Y.max||b();return e<x.value?new Date(x.value):e})),g=()=>{d(V.value)&&(V.value=_(x.value,j.value)),H.value=V.value,n("update:model-value",V.value),C.value=F()},C=a("");function F(){return d(H.value)?"":(e=H.value)?M(e,Y.outletFormat||h[Y.type]):"";var e}l(H,(()=>{C.value=F()}),{immediate:!0});const S=()=>{C.value="",H.value=void 0,n("update:model-value",void 0)},U=a(Y.visible);l((()=>Y.visible),(()=>{U.value=Y.visible}));const w=e=>{U.value=e,n("update:visible",e)},z=()=>{U.value=!0,n("update:visible",!0)};return(e,a)=>(o(),s(m,null,[i(p,{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,clearable:e.clearable,onClear:S,onClick:z,"validate-event":e.validateEvent},null,8,["modelValue","placeholder","readonly","disabled","clearable","validate-event"]),i(c,{"root-class":e.rootClass,"root-style":e.rootStyle,visible:U.value,"onUpdate:visible":w,title:e.title??e.placeholder,onConfirm:g,onVisibleHook:k},{visible:u((({already:a})=>[a?(o(),v(f,{key:0,"model-value":V.value,"onUpdate:modelValue":D,type:e.type,min:e.min,max:e.max,filter:e.filter,formatter:e.formatter},null,8,["model-value","type","min","max","filter","formatter"])):r("",!0)])),_:1},8,["root-class","root-style","visible","title"])],64))}});export{V as _};
