import{S as e}from"./input.D0R8Wcol.js";import{d as a,g as l,C as r,r as s,a as o,o as t,f as u,w as i,e as m,c as n,b as d,F as p,i as f,U as _,I as v,k as g}from"./index-cDBoG4Q4.js";import{_ as c,a as b}from"./form.BQfQb6ue.js";import{_ as j}from"./avatar.Cpc_uIHG.js";import{_ as k,a as y}from"./list._aZjdIGr.js";import{_ as U}from"./button.D0jjfd-b.js";import{_ as x}from"./stepper.Q4ZkLq_J.js";import{_ as V}from"./dialog.D5S4XaeE.js";import{_ as h}from"./index.BXD0v1E4.js";import"./index.DPvFFOke.js";import"./common.C5AqtFVf.js";import"./dom.v6hFRhZS.js";const N=a({__name:"MultiFormLinkage",setup(a){const N=l(),w=l(),F=l(!1),q=r({group:"",users:[]}),C=l({}),I=e=>{var a;if("confirm"===e)return null==(a=w.value)?void 0:a.validate().then((()=>{var e;q.users.push({...C.value,key:Date.now()}),null==(e=w.value)||e.reset()}))},S=()=>{var e;null==(e=N.value)||e.validate().then((()=>{console.log("Finish:",_(q)),v("Success")})).catch((e=>{console.log("error",e)}))};return(a,l)=>{const r=s(o("sar-input"),e),_=s(o("sar-form-item"),c),v=s(o("sar-avatar"),j),z=s(o("sar-list-item"),k),A=s(o("sar-list"),y),D=g,L=s(o("sar-button"),U),R=s(o("sar-form"),b),$=s(o("sar-stepper"),x),B=s(o("sar-dialog"),V),G=s(o("doc-page"),h);return t(),u(G,null,{default:i((()=>[m(R,{ref_key:"formRef",ref:N,model:q,"label-width":"200rpx"},{default:i((()=>[m(_,{name:"group",label:"Group Name",rules:[{required:!0,message:"Please input group name!"}]},{default:i((()=>[m(r,{modelValue:q.group,"onUpdate:modelValue":l[0]||(l[0]=e=>q.group=e)},null,8,["modelValue"])])),_:1}),m(_,{label:"User List"},{default:i((()=>[q.users.length?(t(),u(A,{key:0,inlaid:""},{default:i((()=>[(t(!0),n(p,null,d(q.users,(e=>(t(),u(z,{key:e.key,title:`${e.name} - ${e.age}`},{icon:i((()=>[m(v,{size:"64rpx","icon-size":"40rpx"})])),_:2},1032,["title"])))),128))])),_:1})):(t(),u(D,{key:1},{default:i((()=>[f("( No user yet. )")])),_:1}))])),_:1}),m(_,null,{default:i((()=>[m(L,{onClick:S},{default:i((()=>[f("Submit")])),_:1}),m(L,{type:"outline","root-style":"margin-top: 20rpx",onClick:l[1]||(l[1]=e=>F.value=!0)},{default:i((()=>[f(" Add User ")])),_:1})])),_:1})])),_:1},8,["model"]),m(B,{visible:F.value,"onUpdate:visible":l[4]||(l[4]=e=>F.value=e),title:"Basic Drawer","before-close":I},{default:i((()=>[m(R,{ref_key:"modalFormRef",ref:w,model:C.value},{default:i((()=>[m(_,{name:"name",label:"User Name",rules:[{required:!0}]},{default:i((()=>[m(r,{modelValue:C.value.name,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value.name=e),inlaid:"",placeholder:"Input User Name"},null,8,["modelValue"])])),_:1}),m(_,{name:"age",label:"User Age",rules:[{required:!0}]},{default:i((()=>[m($,{modelValue:C.value.age,"onUpdate:modelValue":l[3]||(l[3]=e=>C.value.age=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])),_:1})}}});export{N as default};
