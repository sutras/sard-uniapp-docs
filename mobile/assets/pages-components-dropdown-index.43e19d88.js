import{_ as e}from"./index.1d7a4681.js";import{d as l,m as a,J as t,g as o,A as s,s as u,L as r,O as i,p as n,q as d,o as v,c as p,e as c,w as b,f as m,h as f,u as _,i as y,t as w,z as h,v as g,y as C,Q as k,x as S,F as j,b as x,K as V,k as I,l as B,B as O,C as $,D as A,R as D,r as L,a as U}from"./index-9377a170.js";import{P as E,_ as H}from"./index.913a9e45.js";import{_ as P,a as q}from"./index.fad96fb0.js";import{a as z,g as F}from"./dom.8f2393f5.js";import{a as J,_ as K}from"./list.36009550.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Q}from"./switch.e3106611.js";import{_ as R}from"./button.65db1ec1.js";import"./common.802edc1c.js";const T={rootStyle:[String,Object,Array],rootClass:String,direction:{type:String,default:"down"},disabled:{type:Boolean,default:!1},awayClosable:{type:Boolean,default:!0},overlayClosable:{type:Boolean,default:!0}},G={rootStyle:[String,Object,Array],rootClass:String,title:String,label:String,options:{type:Array,default:()=>[]},disabled:String,modelValue:null,visible:Boolean,separator:String,placeholder:String},N=Symbol("dropdown-context"),W=M(l({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown-item",props:G,emits:["update:model-value","update:visible"],setup(e,{emit:l}){const O=e,$=q("dropdown-item"),A=a(N);if(!A)throw new Error("DropdownItem must be included in Dropdown.");const D=t(),L=V(),U=o(O.modelValue);s((()=>O.modelValue),(()=>{U.value=O.modelValue}));const H=o(O.visible),M=o(O.visible),Q=o(O.visible);s((()=>O.visible),(()=>{H.value=O.visible})),s(H,(()=>{H.value?(M.value=!0,A.hideOthers(L),G().then((()=>{Q.value=!0}))):Q.value=!1}));const R=o(""),T=o(""),G=async()=>{const e=await z(),l=await F(`#${D}`,L),a={left:0,right:0,top:0,bottom:0},t={left:0,right:0,top:0,bottom:0};"down"===A.direction?(a.top=`calc(${l.bottom}px + var(--window-top))`,a.bottom=0,t.top=0,t.bottom=`calc(${e.height-l.bottom}px + var(--window-top))`):(a.top=0,a.bottom=e.height-l.top+"px",t.top=`calc(${l.bottom}px + var(--window-top))`,t.bottom=0),R.value=u(a),T.value=u(t)},W=e=>{e!==H.value&&(H.value=e,l("update:visible",e))},X=()=>{A.disabled||O.disabled||W(!H.value)},Y=()=>{A.overlayClosable&&W(!1)},Z=()=>{A.awayClosable&&W(!1)},ee=()=>{M.value=!1},le=()=>{W(!1)};r((()=>{A.register(L,{hide:le,visible:M})})),i((()=>{A.unregister(L)}));const ae=n((()=>{var e,l;return null==(l=null==(e=O.options)?void 0:e.find((e=>e.value===U.value)))?void 0:l.label})),te=n((()=>M.value?"caret-up":"caret-down")),oe=n((()=>"up"===A.direction?"slide-bottom":"slide-top")),se=n((()=>d($.b(),$.m(A.direction),$.m("show",M.value),$.m("disabled",A.disabled||O.disabled),O.rootClass))),ue=n((()=>u(O.rootStyle)));return(e,l)=>{const a=I,t=B;return v(),p(j,null,[c(t,{class:f(_(se)),style:C(_(ue)),id:_(D),onClick:X},{default:b((()=>[e.label?(v(),m(t,{key:0,class:f(_($).e("label"))},{default:b((()=>[y(w(e.label)+" ",1),_(h)(e.title)&&_(h)(U.value)||!e.separator?g("",!0):(v(),m(a,{key:0},{default:b((()=>[y(w(e.separator),1)])),_:1}))])),_:1},8,["class"])):g("",!0),e.title?(v(),m(t,{key:1,class:f(_($).e("title"))},{default:b((()=>[y(w(e.title),1)])),_:1},8,["class"])):g("",!0),_(h)(U.value)?e.placeholder?(v(),m(t,{key:3,class:f(_($).e("placeholder"))},{default:b((()=>[y(w(e.placeholder),1)])),_:1},8,["class"])):g("",!0):(v(),m(t,{key:2,class:f(_($).e("value"))},{default:b((()=>[y(w(_(ae)),1)])),_:1},8,["class"])),c(t,{class:f(_($).e("arrow"))},{default:b((()=>[c(P,{name:_(te)},null,8,["name"])])),_:1},8,["class"])])),_:1},8,["class","style","id"]),M.value?(v(),m(t,{key:0,class:f(_($).e("away")),style:C(T.value),onClick:Z,onTouchmove:l[0]||(l[0]=k((()=>{}),["stop","prevent"]))},null,8,["class","style"])):g("",!0),M.value?(v(),m(t,{key:1,class:f(_($).e("popover")),style:C(R.value)},{default:b((()=>[c(E,{"root-class":_($).e("popup"),"root-style":_(u)({position:"absolute"}),"overlay-style":_(u)({position:"absolute"}),"overlay-class":_($).e("overlay"),effect:_(oe),visible:Q.value,onAfterLeave:ee,onOverlayClick:Y},{default:b((()=>[S(e.$slots,"default",{},(()=>[c(J,{inlaid:""},{default:b((()=>[(v(!0),p(j,null,x(e.options,((e,l)=>(v(),m(K,{key:l,title:e.label,hover:"","root-class":_(d)(_($).e("option"),_($).em("option","active",e.value===U.value)),onClick:l=>(e=>{e.value!==U.value&&(U.value=e.value),W(!1)})(e)},{arrow:b((()=>[c(t,{class:f(_($).e("option-icon"))},{default:b((()=>[c(P,{name:"success"})])),_:1},8,["class"])])),_:2},1032,["title","root-class","onClick"])))),128))])),_:1})]),!0)])),_:3},8,["root-class","root-style","overlay-style","overlay-class","effect","visible"])])),_:3},8,["class","style"])):g("",!0)],64)}}}),[["__scopeId","data-v-0b525b82"]]),X=M(l({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown",props:T,setup(e){const l=e,a=q("dropdown"),t=o(new Map),s=n((()=>[...t.value.values()].some((e=>_(e.visible)))));O(N,$({direction:A(l,"direction"),disabled:A(l,"disabled"),awayClosable:A(l,"awayClosable"),overlayClosable:A(l,"overlayClosable"),hideOthers:e=>{t.value.forEach(((l,a)=>{D(a)!==e&&l.hide()}))},register:(e,l)=>{t.value.set(e,l)},unregister:e=>{t.value.delete(e)}}));const r=n((()=>d(a.b(),a.m("show",s.value),l.rootClass))),i=n((()=>u(l.rootStyle)));return(e,l)=>{const t=B;return v(),m(t,{class:f(_(r)),style:C(_(i))},{default:b((()=>[c(t,{class:f(_(a).e("shadow"))},null,8,["class"]),S(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0ff11e6f"]]),Y=l({__name:"Basic",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}],t=o("1"),s=o("1");return(e,o)=>{const u=L(U("sar-dropdown-item"),W),r=L(U("sar-dropdown"),X);return v(),m(r,null,{default:b((()=>[c(u,{options:l,modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e)},null,8,["modelValue"]),c(u,{options:a,modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=e=>s.value=e)},null,8,["modelValue"])])),_:1})}}}),Z=l({__name:"Placeholder",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,t)=>{const o=L(U("sar-dropdown-item"),W),s=L(U("sar-dropdown"),X);return v(),m(s,null,{default:b((()=>[c(o,{placeholder:"排序",options:l}),c(o,{placeholder:"配送时间",options:a})])),_:1})}}}),ee=l({__name:"Label",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,t)=>{const o=L(U("sar-dropdown-item"),W),s=L(U("sar-dropdown"),X);return v(),m(s,null,{default:b((()=>[c(o,{label:"排序",options:l,"model-value":"1"}),c(o,{label:"速度",options:a,"model-value":"2"})])),_:1})}}}),le=l({__name:"Direction",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,t)=>{const o=L(U("sar-dropdown-item"),W),s=L(U("sar-dropdown"),X);return v(),m(s,{direction:"up"},{default:b((()=>[c(o,{options:l,"model-value":"1"}),c(o,{options:a,"model-value":"2"})])),_:1})}}}),ae=l({__name:"Disabled",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,t)=>{const o=L(U("sar-dropdown-item"),W),s=L(U("sar-dropdown"),X);return v(),m(s,{disabled:""},{default:b((()=>[c(o,{options:l,"model-value":"1"}),c(o,{options:a,"model-value":"2"})])),_:1})}}}),te=l({__name:"Content",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=o(!1);return(e,t)=>{const o=L(U("sar-dropdown-item"),W),s=L(U("sar-switch"),Q),u=L(U("sar-list-item"),K),r=L(U("sar-button"),R),i=L(U("sar-list"),J),n=L(U("sar-dropdown"),X);return v(),m(n,{direction:"up"},{default:b((()=>[c(o,{options:l,"model-value":"1"}),c(o,{title:"筛选",visible:a.value,"onUpdate:visible":t[1]||(t[1]=e=>a.value=e)},{default:b((()=>[c(i,{inlaid:""},{default:b((()=>[c(u,{title:"包邮"},{value:b((()=>[c(s,{"model-value":!0})])),_:1}),c(u,{title:"团购"},{value:b((()=>[c(s)])),_:1}),c(u,null,{default:b((()=>[c(r,{round:"",onClick:t[0]||(t[0]=e=>a.value=!1)},{default:b((()=>[y("确认")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])),_:1})}}}),oe=M(l({__name:"index",setup:l=>(l,a)=>{const t=L(U("doc-demo"),e),o=L(U("doc-page"),H);return v(),m(o,null,{default:b((()=>[c(t,{title:"基础使用",full:""},{default:b((()=>[c(Y)])),_:1}),c(t,{title:"占位符",full:""},{default:b((()=>[c(Z)])),_:1}),c(t,{title:"添加 label",full:""},{default:b((()=>[c(ee)])),_:1}),c(t,{title:"向上展开",full:""},{default:b((()=>[c(le)])),_:1}),c(t,{title:"禁用",full:""},{default:b((()=>[c(ae)])),_:1}),c(t,{title:"自定义内容",full:""},{default:b((()=>[c(te)])),_:1})])),_:1})}}),[["__scopeId","data-v-829ba5f4"]]);export{oe as default};
