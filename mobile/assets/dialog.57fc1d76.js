import{d as e,ac as s,T as a,g as t,A as l,p as o,q as i,s as c,o as n,f as r,w as d,e as u,h as m,u as f,y,i as p,t as h,v,x as b,l as _,G as g}from"./index-6f8f5948.js";import{a as x,b as k,_ as C}from"./index.09d87181.js";import{S as z}from"./index.b4cc07cd.js";import{_ as T}from"./button.8a95f6cb.js";const w=C(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dialog",props:s,emits:["update:visible","close","cancel","confirm"],setup(e,{emit:s}){const C=e,w=k("dialog"),{t:j}=a("dialog"),I=t(C.visible);l((()=>C.visible),(()=>{I.value=C.visible}));const S=t({cancel:!1,confirm:!1,close:!1}),q=e=>{if(s(e),"function"==typeof C.beforeClose){const a=C.beforeClose(e);if(a instanceof Promise)return S.value[e]=!0,a.then((()=>{I.value=!1,s("update:visible",!1)})).catch(g).finally((()=>{S.value[e]=!1}));if(!1===a)return}I.value=!1,s("update:visible",!1)},A=()=>{C.overlayClosable&&q("close")},G=()=>{q("close")},H=()=>{q("confirm")},O=()=>{q("cancel")},P=o((()=>({text:{cancel:{type:"text",theme:"neutral",size:"large"},confirm:{type:"text",theme:"primary",size:"large"}},round:{cancel:{type:"pale",theme:"primary",round:!0},confirm:{type:"default",theme:"primary",round:!0}}}[C.buttonType]))),W=o((()=>i(w.b(),w.m("headed",C.headed),w.m("untitled",!C.title),w.m(C.buttonType),C.rootClass))),$=o((()=>c(C.rootStyle)));return(e,s)=>{const a=_;return n(),r(z,{effect:"zoom",visible:e.visible,onOverlayClick:A,duration:e.duration,"root-style":{maxWidth:"var(--sar-dialog-max-width)"}},{default:d((()=>[u(a,{class:m(f(W)),style:y(f($))},{default:d((()=>[e.headed?(n(),r(a,{key:0,class:m(f(w).e("header"))},{default:d((()=>[e.title?(n(),r(a,{key:0,class:m(f(w).e("title"))},{default:d((()=>[p(h(e.title),1)])),_:1},8,["class"])):v("",!0),u(a,{class:m(f(w).e("close"))},{default:d((()=>[u(T,{type:"pale-text",theme:"neutral",size:"large",onClick:G},{default:d((()=>[u(x,{name:"close"})])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])):v("",!0),!e.headed&&e.title||e.message?(n(),r(a,{key:1,class:m(f(w).e("body"))},{default:d((()=>[!e.headed&&e.title?(n(),r(a,{key:0,class:m(f(w).e("title"))},{default:d((()=>[p(h(e.title),1)])),_:1},8,["class"])):v("",!0),e.message?(n(),r(a,{key:1,class:m(f(w).e("message"))},{default:d((()=>[p(h(e.message),1)])),_:1},8,["class"])):v("",!0)])),_:1},8,["class"])):v("",!0),b(e.$slots,"default",{},void 0,!0),u(a,{class:m(f(w).e("footer"))},{default:d((()=>[e.showCancel?(n(),r(T,{key:0,"root-class":f(w).e("button"),loading:S.value.cancel,type:f(P).cancel.type,theme:f(P).cancel.theme,size:f(P).cancel.size,round:f(P).confirm.round,onClick:O},{default:d((()=>[p(h(e.cancelText||f(j)("cancel")),1)])),_:1},8,["root-class","loading","type","theme","size","round"])):v("",!0),e.showCancel&&"text"===e.buttonType?(n(),r(a,{key:1,class:m(f(w).e("divider"))},null,8,["class"])):v("",!0),e.showConfirm?(n(),r(T,{key:2,"root-class":f(w).e("button"),loading:S.value.confirm,type:f(P).confirm.type,theme:f(P).confirm.theme,size:f(P).confirm.size,round:f(P).confirm.round,onClick:H},{default:d((()=>[p(h(e.confirmText||f(j)("confirm")),1)])),_:1},8,["root-class","loading","type","theme","size","round"])):v("",!0)])),_:1},8,["class"])])),_:3},8,["class","style"])])),_:3},8,["visible","duration","root-style"])}}}),[["__scopeId","data-v-5c007990"]]);export{w as _};
