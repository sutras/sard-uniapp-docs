import{d as e,g as a,A as l,p as t,S as o,o as s,c as r,e as i,w as d,f as u,v as n,u as v,F as m}from"./index-9377a170.js";import{p,_ as c}from"./popout-input.5468f506.js";import{c as y,C as b}from"./calendar.b34ca542.js";import{_ as f}from"./popout.28d9c047.js";import{f as h}from"./datetime-picker.vue_vue_type_script_setup_true_lang.176c8efc.js";const w=e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"calendar-input",props:{...p,...y,visible:Boolean,title:String,showConfirm:{type:Boolean,default:!0}},emits:["update:visible","update:model-value"],setup(e,{emit:p}){const y=e,w=a(y.modelValue);l((()=>y.modelValue),(()=>{w.value=y.modelValue}));const _=a(y.modelValue);l(w,(()=>{_.value=w.value}));const x=t((()=>{const e=_.value;return!e||Array.isArray(e)&&0===e.length})),g=()=>{w.value=_.value,p("update:model-value",_.value),V.value=j()},C=e=>{_.value=e,y.showConfirm||x.value||(g(),S.value=!1)},V=a(""),D="YYYY-MM-DD",{t:k}=o("calendar");function j(){return!w.value||Array.isArray(w.value)&&0===w.value.length?"":(e=w.value,"single"===(a=y.type)?h(e,D):"range"===a?`${h(e[0],D)} ${k("to")} ${h(e[1],D)}`:"multiple"===a?k("multipleOutlet",{count:e.length}):"");var e,a}l(w,(()=>{V.value=j()}),{immediate:!0});const A=()=>{V.value="",w.value=void 0,p("update:model-value",void 0)},S=a(y.visible);l((()=>y.visible),(()=>{S.value=y.visible}));const M=e=>{S.value=e,p("update:visible",e)},Y=()=>{S.value=!0,p("update:visible",!0)};return(e,a)=>(s(),r(m,null,[i(c,{modelValue:V.value,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,clearable:e.clearable,onClear:A,onClick:Y,"validate-event":e.validateEvent},null,8,["modelValue","placeholder","readonly","disabled","clearable","validate-event"]),i(f,{"root-class":e.rootClass,"root-style":e.rootStyle,visible:S.value,"onUpdate:visible":M,title:e.title??e.placeholder,"show-confirm":e.showConfirm,"confirm-disabled":v(x),onConfirm:g},{visible:d((({already:a})=>[a?(s(),u(b,{key:0,"model-value":_.value,"onUpdate:modelValue":C,type:e.type,min:e.min,max:e.max,"current-date":e.currentDate,"disabled-date":e.disabledDate,"max-days":e.maxDays,"over-max-days":e.overMaxDays,"week-starts-on":e.weekStartsOn,formatter:e.formatter,"allow-same-day":e.allowSameDay,"several-months":e.severalMonths},null,8,["model-value","type","min","max","current-date","disabled-date","max-days","over-max-days","week-starts-on","formatter","allow-same-day","several-months"])):n("",!0)])),_:1},8,["root-class","root-style","visible","title","show-confirm","confirm-disabled"])],64))}});export{w as _};
