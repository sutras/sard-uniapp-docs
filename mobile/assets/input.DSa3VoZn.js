import{E as e,d as o,G as a,p as s,g as l,A as t,o as n,f as r,w as d,e as c,h as i,u,v as p,s as m,q as h,x as f,a9 as y,T as g,aa as v,i as b,t as w,z as B,l as C,ab as x,ac as S}from"./index-B7LoF5HM.js";import{a as P,b as E,_ as H}from"./index.BtT18Zob.js";import{a as k,u as _}from"./common.nGc6LDJR.js";const j=e.input,T=H(o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"input",props:a({placeholder:{},placeholderStyle:{},placeholderClass:{},disabled:{type:Boolean},maxlength:{},focus:{type:Boolean},cursorSpacing:{},cursor:{},confirmType:{},confirmHold:{},selectionStart:{},selectionEnd:{},adjustPosition:{type:Boolean},holdKeyboard:{type:Boolean},autoBlur:{type:Boolean},ignoreCompositionEvent:{type:Boolean},inputmode:{},autoHeight:{type:Boolean},fixed:{type:Boolean},showConfirmBar:{type:Boolean},disableDefaultPadding:{type:Boolean},type:{},alwaysEmbed:{type:Boolean},safePasswordCertPath:{},safePasswordLength:{},safePasswordTimeStamp:{},safePasswordNonce:{},safePasswordSalt:{},safePasswordCustomHash:{},randomNumber:{type:Boolean},controlled:{type:Boolean},alwaysSystem:{type:Boolean},rootClass:{},rootStyle:{},modelValue:{},clearable:{type:Boolean},showClearOnlyFocus:{type:Boolean},showCount:{type:Boolean},inlaid:{type:Boolean},borderless:{type:Boolean},readonly:{type:Boolean},focused:{type:Boolean},minHeight:{},validateEvent:{type:Boolean}},j),emits:["update:model-value","clear","focus","blur","linechange","confirm","keyboardheightchange"],setup(e,{emit:o}){const a=e,H=o,j=E("input"),T=k(),K=_(),L=s((()=>(null==T?void 0:T.disabled)??a.disabled)),$=s((()=>(null==T?void 0:T.readonly)??a.readonly)),F=l(String(a.modelValue??"")),I=e=>{F.value=e,H("update:model-value",e)};t((()=>a.modelValue),(()=>{F.value=String(a.modelValue??""),a.validateEvent&&(null==K||K.onChange())}));const N=e=>{let o=e.detail.value;return a.maxlength>=0&&(o=o.slice(0,a.maxlength)),I(o),o},V=l(a.focus||a.focused);t([()=>a.focus,()=>a.focused],(()=>{V.value=a.focus||a.focused}));const D=e=>{V.value=!0,H("focus",e)},O=e=>{V.value=!1,H("blur",e),a.validateEvent&&(null==K||K.onBlur())},q=s((()=>{const e=a.clearable&&F.value&&!L.value&&!$.value;return a.showClearOnlyFocus?z.value||V.value&&e:e})),z=l(!1),A=()=>{z.value=!0},G=()=>{z.value=!1},M=()=>{A();const e=()=>{G(),document.removeEventListener("mouseup",e)};document.addEventListener("mouseup",e)},J=()=>{I(""),H("clear")},Q=e=>{H("linechange",e)},R=e=>{H("confirm",e)},U=e=>{H("keyboardheightchange",e)},W=s((()=>h(j.b(),j.m("inlaid",a.inlaid),j.m("borderless",a.borderless),j.m("disabled",L.value),j.m("readonly",$.value),j.m("focused",V.value),a.rootClass))),X=s((()=>B(a.rootStyle))),Y=s((()=>B({minHeight:a.minHeight,height:!a.autoHeight&&a.minHeight})));return(e,o)=>{const a=C,s=x,l=S;return n(),r(a,{class:i(W.value),style:f(X.value)},{default:d((()=>[c(a,{class:i(u(j).e("content"))},{default:d((()=>[e.$slots.prepend?(n(),r(a,{key:0,class:i(u(j).e("prepend"))},{default:d((()=>[p(e.$slots,"prepend",{},void 0,!0)])),_:3},8,["class"])):m("",!0),"textarea"===e.type?(n(),r(s,{key:1,class:i(u(h)(u(j).e("control"),u(j).em("control","textarea"))),value:F.value,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":u(h)(u(j).e("placeholder"),e.placeholderClass),disabled:L.value||$.value,maxlength:e.maxlength,focus:e.focus,"cursor-spacing":e.cursorSpacing,cursor:e.cursor,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,"auto-blur":e.autoBlur,"ignore-composition-event":e.ignoreCompositionEvent,inputmode:e.inputmode,autocomplete:"off",fixed:e.fixed,"show-confirm-bar":e.showConfirmBar,"disable-default-padding":e.disableDefaultPadding,onInput:N,onFocus:D,onBlur:O,onLinechange:Q,onConfirm:R,onKeyboardheightchange:U,"auto-height":e.autoHeight,style:f(Y.value)},null,8,["class","value","placeholder","placeholder-style","placeholder-class","disabled","maxlength","focus","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","inputmode","fixed","show-confirm-bar","disable-default-padding","auto-height","style"])):(n(),r(l,{key:2,class:i(u(h)(u(j).e("control"),u(j).em("control","input"))),value:F.value,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":u(h)(u(j).e("placeholder"),e.placeholderClass),disabled:L.value||$.value,maxlength:e.maxlength,focus:e.focus,"cursor-spacing":e.cursorSpacing,cursor:e.cursor,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,"auto-blur":e.autoBlur,"ignore-composition-event":e.ignoreCompositionEvent,inputmode:e.inputmode,autocomplete:"off",onInput:N,onFocus:D,onBlur:O,onConfirm:R,onKeyboardheightchange:U,type:e.type,password:"password"===e.type,"always-embed":e.alwaysEmbed,"safe-password-cert-path":e.safePasswordCertPath,"safe-password-length":e.safePasswordLength,"safe-password-time-stamp":e.safePasswordTimeStamp,"safe-password-nonce":e.safePasswordNonce,"safe-password-salt":e.safePasswordSalt,"safe-password-custom-hash":e.safePasswordCustomHash,"random-number":e.randomNumber,controlled:e.controlled,"always-system":e.alwaysSystem},null,8,["class","value","placeholder","placeholder-style","placeholder-class","disabled","maxlength","focus","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","inputmode","type","password","always-embed","safe-password-cert-path","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-custom-hash","random-number","controlled","always-system"])),y(c(a,{class:i(u(j).e("clear")),onClick:g(J,["stop"]),onMousedown:M,onTouchstart:A,onTouchend:G,onTouchcancel:G},{default:d((()=>[c(P,{name:"x-circle-fill"})])),_:1},8,["class"]),[[v,q.value]]),e.$slots.append?(n(),r(a,{key:3,class:i(u(j).e("append"))},{default:d((()=>[p(e.$slots,"append",{},void 0,!0)])),_:3},8,["class"])):m("",!0),p(e.$slots,"addon",{},void 0,!0)])),_:3},8,["class"]),e.showCount?(n(),r(a,{key:0,class:i(u(j).e("count"))},{default:d((()=>[b(w(F.value.length)+" / "+w(e.maxlength),1)])),_:1},8,["class"])):m("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-6b3cbd88"]]);export{T as S};
