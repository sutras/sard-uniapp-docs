import{S as e}from"./input.a3626fe5.js";import{d as a,g as s,C as l,o,f as t,w as i,e as r,c as n,b as u,F as m,i as d,H as f,S as p,r as c,a as _,l as g}from"./index-aa8abc65.js";import{_ as x,a as j}from"./form.5d9d011d.js";import{a as V}from"./index.776be883.js";import{_ as k}from"./button.21fa86db.js";import{_ as y}from"./index.5a4c2473.js";import"./common.c6a791ea.js";import"./dom.06da4e90.js";const h=a({__name:"DynamicNested",setup(a){const h=s(),v=l({users:[]}),C=()=>{var e;null==(e=h.value)||e.validate().then((()=>{f("Success"),console.log("Received values of form:",p(v))})).catch((()=>{console.log("fail")}))};return(a,s)=>{const l=c(_("sar-input"),e),f=c(_("sar-form-item"),x),p=c(_("sar-icon"),V),b=c(_("sar-button"),k),S=g,U=c(_("sar-form"),j),w=c(_("doc-page"),y);return o(),t(w,null,{default:i((()=>[r(U,{ref_key:"formRef",ref:h,model:v},{default:i((()=>[(o(!0),n(m,null,u(v.users,((e,a)=>(o(),t(f,{key:e.id},{default:i((()=>[r(S,{style:{display:"flex","flex-direction":"row","align-items":"center",gap:"10rpx"}},{default:i((()=>[r(f,{name:["users",a,"first"],rules:{required:!0,message:"Missing first name"},inlaid:""},{default:i((()=>[r(l,{inlaid:"",modelValue:e.first,"onUpdate:modelValue":a=>e.first=a,placeholder:"First Name"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["name"]),r(f,{name:["users",a,"last"],rules:{required:!0,message:"Missing last name"},inlaid:""},{default:i((()=>[r(l,{inlaid:"",modelValue:e.last,"onUpdate:modelValue":a=>e.last=a,placeholder:"Last Name"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["name"]),r(b,{type:"mild",size:"small",onClick:a=>(e=>{const a=v.users.indexOf(e);-1!==a&&v.users.splice(a,1)})(e)},{default:i((()=>[r(p,{name:"minus"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),r(f,null,{default:i((()=>[r(b,{type:"outline",onClick:s[0]||(s[0]=e=>{v.users.push({first:"",last:"",id:Date.now()})})},{default:i((()=>[r(p,{name:"plus"}),d(" Add user ")])),_:1})])),_:1}),r(f,null,{default:i((()=>[r(b,{onClick:C},{default:i((()=>[d("Submit")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}});export{h as default};
