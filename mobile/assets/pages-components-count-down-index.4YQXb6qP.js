import{_ as e}from"./index.CA5jYfGe.js";import{E as t,d as a,G as s,g as o,p as n,A as l,N as r,v as i,i as u,t as c,u as d,r as m,a as f,o as p,f as _,w as v,e as S,l as g,c as h,F as x,I as w,k as y}from"./index-cDBoG4Q4.js";import{_ as k}from"./index.BXD0v1E4.js";import{_ as b}from"./index.DPvFFOke.js";import{_ as j,a as H}from"./grid.DtptwOES.js";import{_ as C}from"./button.D0jjfd-b.js";import{S as D}from"./input.D0R8Wcol.js";import"./common.C5AqtFVf.js";const I=t.countDown;function F(e){return{milliseconds:e%1e3,seconds:~~(e/1e3)%60,minutes:~~(e/1e3/60)%60,hours:~~(e/1e3/60/60)%60,days:~~(e/1e3/60/60/24),total:e}}function T(e,t=2){return String(e).padStart(t,"0")}function B(e,t){return e.replace(/DD/g,T(t.days)).replace(/HH/g,T(t.hours)).replace(/mm/g,T(t.minutes)).replace(/ss/g,T(t.seconds)).replace(/s/g,String(t.seconds)).replace(/SSS/g,T(t.milliseconds,3)).replace(/SS/g,T(t.milliseconds,3).slice(0,2)).replace(/S/g,T(t.milliseconds,3).slice(0,1))}const G=a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"count-down",props:s({time:{},autoStart:{type:Boolean},format:{},millisecond:{type:Boolean}},I),emits:["change","finish"],setup(e,{expose:t,emit:a}){const s=e,m=a,f=o(s.time);let p=0,_=null,v=!0;const S=()=>{const e=Date.now();if(f.value=Math.max(p-e,0),0===f.value)return h(),void m("finish");_=setTimeout((()=>{S()}),30)},g=()=>{v&&(v=!1,p=Date.now()+f.value,S())},h=()=>{v||(clearTimeout(_),_=null,v=!0)},x=n((()=>s.millisecond?f.value:1e3*Math.floor(f.value/1e3))),w=o(F(x.value));return l(x,(()=>{w.value=F(x.value),m("change",w.value)})),t({start:g,pause:h,reset:()=>{h(),f.value=s.time}}),r((()=>{s.autoStart&&g()})),(e,t)=>i(e.$slots,"default",{time:w.value},(()=>[u(c(d(B)(e.format,w.value)),1)]))}});const M=b({},[["render",function(e,t){const a=m(f("sar-count-down"),G);return p(),_(a,{time:72e5})}]]);const z=b({},[["render",function(e,t){const a=m(f("sar-count-down"),G);return p(),_(a,{time:72e5,format:"HH 时 mm 分 ss 秒"})}]]);const A=b({},[["render",function(e,t){const a=m(f("sar-count-down"),G);return p(),_(a,{time:72e5,format:"HH 时 mm 分 ss 秒 SSS 毫秒",millisecond:""})}]]);const E=b({},[["render",function(e,t){const a=g,s=m(f("sar-count-down"),G);return p(),_(s,{time:72e5},{default:v((({time:e})=>[S(a,{class:"container"},{default:v((()=>[S(a,{class:"box"},{default:v((()=>[u(c(String(e.hours).padStart(2,"0")),1)])),_:2},1024),S(a,{class:"colon"},{default:v((()=>[u(":")])),_:1}),S(a,{class:"box"},{default:v((()=>[u(c(String(e.minutes).padStart(2,"0")),1)])),_:2},1024),S(a,{class:"colon"},{default:v((()=>[u(":")])),_:1}),S(a,{class:"box"},{default:v((()=>[u(c(String(e.seconds).padStart(2,"0")),1)])),_:2},1024)])),_:2},1024)])),_:1})}],["__scopeId","data-v-bcc63e23"]]),N=a({__name:"Control",setup(e){const t=o();return(e,a)=>{const s=m(f("sar-grid-item"),j),o=m(f("sar-grid"),H),n=m(f("sar-count-down"),G);return p(),h(x,null,[S(o,{clickable:"",columns:3},{default:v((()=>[S(s,{onClick:a[0]||(a[0]=()=>{var e;return null==(e=t.value)?void 0:e.start()}),icon:"play-circle","icon-family":"demo-icons",text:"开始"}),S(s,{onClick:a[1]||(a[1]=()=>{var e;return null==(e=t.value)?void 0:e.pause()}),icon:"pause-circle","icon-family":"demo-icons",text:"暂停"}),S(s,{onClick:a[2]||(a[2]=()=>{var e;return null==(e=t.value)?void 0:e.reset()}),icon:"arrow-clockwise","icon-family":"demo-icons",text:"重置"})])),_:1}),S(n,{ref_key:"elRef",ref:t,time:1e4,format:"ss:SSS",millisecond:"","auto-start":!1,onFinish:a[3]||(a[3]=e=>d(w)("到时了!"))},null,512)],64)}}}),P=a({__name:"Captcha",setup(e){const t=o(!1),a=o(!1),s=()=>{t.value=!0,new Promise((e=>setTimeout(e,1e3))).then((()=>{w("已发送验证码"),a.value=!0})).finally((()=>{t.value=!1}))};return(e,o)=>{const n=m(f("sar-count-down"),G),l=y,r=m(f("sar-button"),C),i=m(f("sar-input"),D);return p(),_(i,{placeholder:"请输入验证码"},{append:v((()=>[S(r,{size:"small",loading:t.value,disabled:a.value,onClick:s,"root-style":"min-width: 200rpx"},{default:v((()=>[a.value?(p(),_(n,{key:0,time:8e3,format:"重发验证码(s)",onFinish:o[0]||(o[0]=e=>a.value=!1)})):t.value?(p(),_(l,{key:1},{default:v((()=>[u("正在发送")])),_:1})):(p(),_(l,{key:2},{default:v((()=>[u("发送验证码")])),_:1}))])),_:1},8,["loading","disabled"])])),_:1})}}}),R=b(a({__name:"index",setup:t=>(t,a)=>{const s=m(f("doc-demo"),e),o=m(f("doc-page"),k);return p(),_(o,null,{default:v((()=>[S(s,{title:"基础使用"},{default:v((()=>[S(M)])),_:1}),S(s,{title:"自定义格式"},{default:v((()=>[S(z)])),_:1}),S(s,{title:"毫秒级别的渲染"},{default:v((()=>[S(A)])),_:1}),S(s,{title:"自定义样式"},{default:v((()=>[S(E)])),_:1}),S(s,{title:"手动控制"},{default:v((()=>[S(N)])),_:1}),S(s,{title:"验证码倒计时"},{default:v((()=>[S(P)])),_:1})])),_:1})}}),[["__scopeId","data-v-4b77afc4"]]);export{R as default};
