import{_ as e}from"./index.3d69d03d.js";import{E as l,d as a,m as o,K as t,g as s,A as u,s as r,M as d,P as i,p as n,q as v,o as p,c as b,e as c,w as m,f,h as _,u as y,i as w,t as h,z as g,v as C,y as S,R as k,x as j,F as x,b as V,L as B,k as I,l as $,B as A,C as D,D as O,S as E,r as L,a as U}from"./index-aa8abc65.js";import{S as H,_ as M}from"./index.5a4c2473.js";import{a as P,b as q,_ as z}from"./index.776be883.js";import{a as F,g as J}from"./dom.06da4e90.js";import{a as K,_ as N}from"./list.1a8a7167.js";import{_ as R}from"./switch.92a5eee1.js";import{_ as T}from"./button.21fa86db.js";import"./common.c6a791ea.js";const G={rootStyle:[String,Object,Array],rootClass:String,direction:{type:String,default:l.dropdown.direction},disabled:{type:Boolean,default:l.dropdown.disabled},awayClosable:{type:Boolean,default:l.dropdown.awayClosable},overlayClosable:{type:Boolean,default:l.dropdown.overlayClosable},duration:{type:Number,default:l.dropdown.duration}},Q={rootStyle:[String,Object,Array],rootClass:String,title:String,label:String,options:{type:Array,default:()=>[]},disabled:String,modelValue:null,visible:Boolean,separator:String,placeholder:String},W=Symbol("dropdown-context"),X=z(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown-item",props:Q,emits:["update:model-value","update:visible"],setup(e,{emit:l}){const a=e,A=q("dropdown-item"),D=o(W);if(!D)throw new Error("DropdownItem must be included in Dropdown.");const O=t(),E=B(),L=s(a.modelValue);u((()=>a.modelValue),(()=>{L.value=a.modelValue}));const U=s(a.visible),M=s(a.visible),z=s(a.visible);u((()=>a.visible),(()=>{U.value=a.visible})),u(U,(()=>{U.value?(M.value=!0,D.hideOthers(E),G().then((()=>{z.value=!0}))):z.value=!1}));const R=s(""),T=s(""),G=async()=>{const e=await F(),l=await J(`#${O}`,E),a={left:0,right:0,top:0,bottom:0},o={left:0,right:0,top:0,bottom:0};"down"===D.direction?(a.top=`calc(${l.bottom}px + var(--window-top))`,a.bottom=0,o.top=0,o.bottom=`calc(${e.height-l.bottom}px + var(--window-top))`):(a.top=0,a.bottom=e.height-l.top+"px",o.top=`calc(${l.bottom}px + var(--window-top))`,o.bottom=0),R.value=r(a),T.value=r(o)},Q=e=>{e!==U.value&&(U.value=e,l("update:visible",e))},X=()=>{D.disabled||a.disabled||Q(!U.value)},Y=()=>{D.overlayClosable&&Q(!1)},Z=()=>{D.awayClosable&&Q(!1)},ee=()=>{M.value=!1},le=()=>{Q(!1)};d((()=>{D.register(E,{hide:le,visible:M})})),i((()=>{D.unregister(E)}));const ae=n((()=>{var e,l;return null==(l=null==(e=a.options)?void 0:e.find((e=>e.value===L.value)))?void 0:l.label})),oe=n((()=>M.value?"caret-up":"caret-down")),te=n((()=>"up"===D.direction?"slide-bottom":"slide-top")),se=n((()=>v(A.b(),A.m(D.direction),A.m("show",M.value),A.m("disabled",D.disabled||a.disabled),a.rootClass))),ue=n((()=>r(a.rootStyle)));return(e,a)=>{const o=I,t=$;return p(),b(x,null,[c(t,{class:_(y(se)),style:S(y(ue)),id:y(O),onClick:X},{default:m((()=>[e.label?(p(),f(t,{key:0,class:_(y(A).e("label"))},{default:m((()=>[w(h(e.label)+" ",1),y(g)(e.title)&&y(g)(L.value)||!e.separator?C("",!0):(p(),f(o,{key:0},{default:m((()=>[w(h(e.separator),1)])),_:1}))])),_:1},8,["class"])):C("",!0),e.title?(p(),f(t,{key:1,class:_(y(A).e("title"))},{default:m((()=>[w(h(e.title),1)])),_:1},8,["class"])):C("",!0),y(g)(L.value)?e.placeholder?(p(),f(t,{key:3,class:_(y(A).e("placeholder"))},{default:m((()=>[w(h(e.placeholder),1)])),_:1},8,["class"])):C("",!0):(p(),f(t,{key:2,class:_(y(A).e("value"))},{default:m((()=>[w(h(y(ae)),1)])),_:1},8,["class"])),c(t,{class:_(y(A).e("arrow"))},{default:m((()=>[c(P,{name:y(oe)},null,8,["name"])])),_:1},8,["class"])])),_:1},8,["class","style","id"]),M.value?(p(),f(t,{key:0,class:_(y(A).e("away")),style:S(T.value),onClick:Z,onTouchmove:a[0]||(a[0]=k((()=>{}),["stop","prevent"]))},null,8,["class","style"])):C("",!0),M.value?(p(),f(t,{key:1,class:_(y(A).e("popover")),style:S(R.value)},{default:m((()=>[c(H,{"root-class":y(A).e("popup"),"root-style":y(r)({position:"absolute"}),"overlay-style":y(r)({position:"absolute"}),"overlay-class":y(A).e("overlay"),effect:y(te),visible:z.value,duration:y(D).duration,onAfterLeave:ee,onOverlayClick:Y},{default:m((()=>[j(e.$slots,"default",{},(()=>[c(K,{inlaid:""},{default:m((()=>[(p(!0),b(x,null,V(e.options,((e,a)=>(p(),f(N,{key:a,title:e.label,hover:"","root-class":y(v)(y(A).e("option"),y(A).em("option","active",e.value===L.value)),onClick:a=>(e=>{e.value!==L.value&&(L.value=e.value,l("update:model-value",e.value)),Q(!1)})(e)},{arrow:m((()=>[c(t,{class:_(y(A).e("option-icon"))},{default:m((()=>[c(P,{name:"success"})])),_:1},8,["class"])])),_:2},1032,["title","root-class","onClick"])))),128))])),_:1})]),!0)])),_:3},8,["root-class","root-style","overlay-style","overlay-class","effect","visible","duration"])])),_:3},8,["class","style"])):C("",!0)],64)}}}),[["__scopeId","data-v-b811829b"]]),Y=z(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown",props:G,setup(e){const l=e,a=q("dropdown"),o=s(new Map),t=n((()=>[...o.value.values()].some((e=>y(e.visible)))));A(W,D({direction:O(l,"direction"),disabled:O(l,"disabled"),awayClosable:O(l,"awayClosable"),overlayClosable:O(l,"overlayClosable"),duration:O(l,"duration"),hideOthers:e=>{o.value.forEach(((l,a)=>{E(a)!==e&&l.hide()}))},register:(e,l)=>{o.value.set(e,l)},unregister:e=>{o.value.delete(e)}}));const u=n((()=>v(a.b(),a.m("show",t.value),l.rootClass))),d=n((()=>r(l.rootStyle)));return(e,l)=>{const o=$;return p(),f(o,{class:_(y(u)),style:S(y(d))},{default:m((()=>[c(o,{class:_(y(a).e("shadow"))},null,8,["class"]),j(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-fd0b1cb0"]]),Z=a({__name:"Basic",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}],o=s("1"),t=s("1");return(e,s)=>{const u=L(U("sar-dropdown-item"),X),r=L(U("sar-dropdown"),Y);return p(),f(r,null,{default:m((()=>[c(u,{options:l,modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e)},null,8,["modelValue"]),c(u,{options:a,modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e)},null,8,["modelValue"])])),_:1})}}}),ee=a({__name:"Placeholder",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=L(U("sar-dropdown-item"),X),s=L(U("sar-dropdown"),Y);return p(),f(s,null,{default:m((()=>[c(t,{placeholder:"排序",options:l}),c(t,{placeholder:"配送时间",options:a})])),_:1})}}}),le=a({__name:"Label",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=L(U("sar-dropdown-item"),X),s=L(U("sar-dropdown"),Y);return p(),f(s,null,{default:m((()=>[c(t,{label:"排序",options:l,"model-value":"1"}),c(t,{label:"速度",options:a,"model-value":"2"})])),_:1})}}}),ae=a({__name:"Direction",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=L(U("sar-dropdown-item"),X),s=L(U("sar-dropdown"),Y);return p(),f(s,{direction:"up"},{default:m((()=>[c(t,{options:l,"model-value":"1"}),c(t,{options:a,"model-value":"2"})])),_:1})}}}),oe=a({__name:"Disabled",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=L(U("sar-dropdown-item"),X),s=L(U("sar-dropdown"),Y);return p(),f(s,{disabled:""},{default:m((()=>[c(t,{options:l,"model-value":"1"}),c(t,{options:a,"model-value":"2"})])),_:1})}}}),te=a({__name:"Content",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=s(!1);return(e,o)=>{const t=L(U("sar-dropdown-item"),X),s=L(U("sar-switch"),R),u=L(U("sar-list-item"),N),r=L(U("sar-button"),T),d=L(U("sar-list"),K),i=L(U("sar-dropdown"),Y);return p(),f(i,{direction:"up"},{default:m((()=>[c(t,{options:l,"model-value":"1"}),c(t,{title:"筛选",visible:a.value,"onUpdate:visible":o[1]||(o[1]=e=>a.value=e)},{default:m((()=>[c(d,{inlaid:""},{default:m((()=>[c(u,{title:"包邮"},{value:m((()=>[c(s,{"model-value":!0})])),_:1}),c(u,{title:"团购"},{value:m((()=>[c(s)])),_:1}),c(u,null,{default:m((()=>[c(r,{round:"",onClick:o[0]||(o[0]=e=>a.value=!1)},{default:m((()=>[w("确认")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])),_:1})}}}),se=z(a({__name:"index",setup:l=>(l,a)=>{const o=L(U("doc-demo"),e),t=L(U("doc-page"),M);return p(),f(t,null,{default:m((()=>[c(o,{title:"基础使用",full:""},{default:m((()=>[c(Z)])),_:1}),c(o,{title:"占位符",full:""},{default:m((()=>[c(ee)])),_:1}),c(o,{title:"添加 label",full:""},{default:m((()=>[c(le)])),_:1}),c(o,{title:"向上展开",full:""},{default:m((()=>[c(ae)])),_:1}),c(o,{title:"禁用",full:""},{default:m((()=>[c(oe)])),_:1}),c(o,{title:"自定义内容",full:""},{default:m((()=>[c(te)])),_:1})])),_:1})}}),[["__scopeId","data-v-829ba5f4"]]);export{se as default};
