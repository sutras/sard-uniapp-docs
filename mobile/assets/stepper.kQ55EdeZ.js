import{E as e,d as a,G as l,p as s,g as o,A as u,o as t,f as n,w as d,e as r,h as i,u as v,q as m,x as c,y as p,z as b,l as y,ac as h,Y as T}from"./index-GlWSIXJ_.js";import{a as f,b as x,_ as C}from"./index.DZ-iMJGl.js";import{a as _,u as N}from"./common.B4tyeXSZ.js";const V=e.stepper,B=C(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"stepper",props:l({rootStyle:{},rootClass:{},modelValue:{},min:{},max:{},valueOnClear:{},step:{},precision:{},inputStyle:{},inputType:{},placeholder:{},disabled:{type:Boolean},readonly:{type:Boolean},press:{type:Boolean},pressTime:{},interval:{},validateEvent:{type:Boolean},size:{}},V),emits:["update:model-value","focus","blur"],setup(e,{emit:a}){const l=e,C=a,V=x("stepper"),B=_(),E=N(),O=s((()=>(null==B?void 0:B.disabled)||l.disabled)),S=s((()=>(null==B?void 0:B.readonly)||l.readonly)),j=o(l.modelValue),w=o(l.modelValue);u((()=>l.modelValue),(()=>{j.value=l.modelValue,w.value=l.modelValue,l.validateEvent&&(null==E||E.onChange())}));const z=e=>{j.value=e,C("update:model-value",e)},I=e=>{z(e),w.value=e},g=e=>(e=T(e,l.min,l.max),void 0!==l.precision&&(e=+e.toFixed(l.precision)),e),k=()=>"min"===l.valueOnClear?l.min:"max"===l.valueOnClear?l.max:l.valueOnClear,F=e=>{const a=e.detail.value;w.value=a,""===a&&z(k())},L=e=>{if(""!==w.value){const e=Number(w.value);isNaN(e)?(w.value="",z(k())):I(g(e))}C("blur",e)},M=e=>{C("focus",e)},q=s((()=>!p(j.value)&&Number(j.value)<=l.min)),A=s((()=>!p(j.value)&&Number(j.value)>=l.max)),G=e=>{I(g((Number(j.value)||0)+l.step*e))},H=(e,a)=>{O.value||S.value||a||G(e)};let Y,D=!1;const J=e=>{D&&(G(e),setTimeout((()=>{J(e)}),l.interval))},K=e=>{!l.press||O.value||S.value||-1===e&&q.value||1===e&&A.value||(clearTimeout(Y),D=!1,Y=setTimeout((()=>{D=!0,J(e)}),l.pressTime))},P=()=>{clearTimeout(Y),D=!1},Q=e=>{K(e);const a=()=>{P(),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a)},R=s((()=>m(V.b(),V.m(l.size),V.m("disabled",O.value),V.m("readonly",S.value),l.rootClass))),U=s((()=>b(l.rootStyle)));return(e,a)=>{const l=y,s=h;return t(),n(l,{class:i(R.value),style:c(U.value)},{default:d((()=>[r(l,{class:i(v(m)(v(V).e("button"),v(V).em("button","disabled",O.value||q.value),v(V).em("button","readonly",S.value),v(V).em("button","decrease"))),onClick:a[0]||(a[0]=e=>H(-1,q.value)),onTouchstart:a[1]||(a[1]=e=>K(-1)),onTouchend:P,onTouchcancel:P,onMousedown:a[2]||(a[2]=e=>Q(-1))},{default:d((()=>[r(f,{name:"minus"})])),_:1},8,["class"]),r(s,{class:i(v(V).e("input")),type:e.inputType,placeholder:e.placeholder,"placeholder-class":v(V).e("placeholder"),value:w.value,disabled:O.value||S.value,style:c(e.inputStyle),onInput:F,onBlur:L,onFocus:M},null,8,["class","type","placeholder","placeholder-class","value","disabled","style"]),r(l,{class:i(v(m)(v(V).e("button"),v(V).em("button","disabled",O.value||A.value),v(V).em("button","readonly",S.value),v(V).em("button","increase"))),onClick:a[3]||(a[3]=e=>H(1,A.value)),onTouchstart:a[4]||(a[4]=e=>K(1)),onTouchend:P,onTouchcancel:P,onMousedown:a[5]||(a[5]=e=>Q(1))},{default:d((()=>[r(f,{name:"plus"})])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-4c1e55fb"]]);export{B as _};
