import{E as e,d as o,G as a,U as l,g as s,A as t,p as i,o as n,f as c,w as r,e as u,h as d,x as f,S as p,u as m,q as v,v as y,i as b,t as h,s as _,z as C,l as k,k as x,H as w}from"./index-DFwJ2Oj-.js";import{a as g,b as B,_ as T}from"./index.BDMDFAO9.js";import{b as $,S as j}from"./index.NOUmFN7R.js";import{_ as S}from"./button.6NBmS2yV.js";const D=e.popout,F=T(o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"popout",props:a({rootStyle:{},rootClass:{},visible:{type:Boolean},duration:{},title:{},type:{},showCancel:{type:Boolean},cancelText:{},showConfirm:{type:Boolean},confirmText:{},confirmDisabled:{type:Boolean},showClose:{type:Boolean},showFooter:{type:Boolean},overlayClosable:{type:Boolean},beforeClose:{type:Function}},D),emits:["update:visible","close","cancel","confirm","visible-hook"],setup(e,{emit:o}){const a=e,T=o,D=B("popout"),{t:F}=l("popout"),H=s(a.visible);t((()=>a.visible),(()=>{H.value=a.visible}));const z=s(a.visible);t(H,(()=>{!z.value&&H.value&&(z.value=!0)}));const A=s(a.visible),E=()=>{A.value=!0},I=()=>{A.value=!1},q=$(),G=e=>{T("visible-hook",e),q(e)},L=s({cancel:!1,confirm:!1,close:!1}),O=e=>{if(T(e),"function"==typeof a.beforeClose){const o=a.beforeClose(e);if(o instanceof Promise)return L.value[e]=!0,o.then((()=>{H.value=!1,T("update:visible",!1)})).catch(w).finally((()=>{L.value[e]=!1}));if(!1===o)return}H.value=!1,T("update:visible",!1)},P=()=>{a.overlayClosable&&O("close")},U=()=>{O("close")},V=()=>{O("confirm")},J=()=>{O("cancel")},K=i((()=>v(D.b(),a.rootClass))),M=i((()=>C(a.rootStyle)));return(e,o)=>{const l=k,s=x;return n(),c(j,{effect:"slide-bottom",visible:e.visible,duration:e.duration,onOverlayClick:P,onBeforeEnter:E,onAfterLeave:I,onVisibleHook:G},{default:r((()=>[u(l,{class:d(K.value),style:f(M.value),onTransitionend:o[0]||(o[0]=p((()=>{}),["stop"]))},{default:r((()=>[u(l,{class:d(m(v)(m(D).e("header"),m(D).em("header",a.type)))},{default:r((()=>["compact"===e.type?(n(),c(l,{key:0,class:d(m(D).e("button-wrap"))},{default:r((()=>[u(S,{type:"pale-text",theme:"neutral","root-class":m(v)(m(D).e("header-cancel")),loading:L.value.cancel,onClick:J},{default:r((()=>[y(e.$slots,"cancel",{},(()=>[b(h(e.cancelText||m(F)("cancel")),1)]),!0)])),_:3},8,["root-class","loading"])])),_:3},8,["class"])):_("",!0),u(l,{class:d(m(D).e("title"))},{default:r((()=>[y(e.$slots,"title",{},(()=>[u(s,{class:d(m(D).e("title-text"))},{default:r((()=>[b(h(e.title),1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"]),"compact"===e.type?(n(),c(l,{key:1,class:d(m(D).e("button-wrap"))},{default:r((()=>[u(S,{type:"pale-text",theme:"primary","root-class":m(v)(m(D).e("header-confirm")),loading:L.value.confirm,disabled:e.confirmDisabled,onClick:V},{default:r((()=>[y(e.$slots,"confirm",{},(()=>[b(h(e.confirmText||m(F)("confirm")),1)]),!0)])),_:3},8,["root-class","loading","disabled"])])),_:3},8,["class"])):_("",!0),"loose"===e.type&&e.showClose?(n(),c(l,{key:2,class:d(m(D).e("close")),onClick:U},{default:r((()=>[u(S,{type:"pale-text",theme:"neutral",size:"large"},{default:r((()=>[u(g,{name:"close"})])),_:1})])),_:1},8,["class"])):_("",!0)])),_:3},8,["class"]),y(e.$slots,"default",{},void 0,!0),y(e.$slots,"visible",{whole:A.value,already:z.value},void 0,!0),e.showFooter&&"loose"===e.type?(n(),c(l,{key:0,class:d(m(D).e("footer"))},{default:r((()=>[e.showCancel?(n(),c(S,{key:0,type:"pale",theme:"primary",round:"",loading:L.value.cancel,onClick:J},{default:r((()=>[y(e.$slots,"cancel",{},(()=>[b(h(e.cancelText||m(F)("cancel")),1)]),!0)])),_:3},8,["loading"])):_("",!0),e.showConfirm?(n(),c(S,{key:1,type:"default",theme:"primary",round:"",loading:L.value.confirm,disabled:e.confirmDisabled,onClick:V},{default:r((()=>[y(e.$slots,"confirm",{},(()=>[b(h(e.confirmText||m(F)("confirm")),1)]),!0)])),_:3},8,["loading","disabled"])):_("",!0)])),_:3},8,["class"])):_("",!0)])),_:3},8,["class","style"])])),_:3},8,["visible","duration"])}}}),[["__scopeId","data-v-c1b51731"]]);export{F as _};
