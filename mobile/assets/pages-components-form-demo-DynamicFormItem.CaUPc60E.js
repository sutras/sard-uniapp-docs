import{S as e}from"./input.vRmeWNTY.js";import{d as a,g as l,C as o,r as s,a as t,o as m,f as r,w as n,e as i,c as u,b as d,F as p,i as c,I as f,T as _,l as g}from"./index-GlWSIXJ_.js";import{_ as y,a as b}from"./form.CS9zZpFs.js";import{_ as k}from"./button.BVtMR0R2.js";import{_ as v}from"./index.D9XOTfsQ.js";import"./index.DZ-iMJGl.js";import"./common.B4tyeXSZ.js";import"./dom.BhynX98V.js";const x=a({__name:"DynamicFormItem",setup(a){const x=l(),j=o({domains:[{key:1,value:""}],email:""}),V=()=>{j.domains.push({key:Date.now(),value:""})};return(a,l)=>{const o=s(t("sar-input"),e),C=s(t("sar-form-item"),y),h=s(t("sar-button"),k),w=g,D=s(t("sar-form"),b),S=s(t("doc-page"),v);return m(),r(S,null,{default:n((()=>[i(D,{ref_key:"formRef",ref:x,model:j},{default:n((()=>[i(C,{name:"email",label:"Email",rules:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]},{default:n((()=>[i(o,{modelValue:j.email,"onUpdate:modelValue":l[0]||(l[0]=e=>j.email=e)},null,8,["modelValue"])])),_:1}),(m(!0),u(p,null,d(j.domains,((e,a)=>(m(),r(C,{key:e.key,label:"Domain"+a,name:["domains",a,"value"],rules:{required:!0,message:"domain can not be null"}},{default:n((()=>[i(w,{style:{display:"flex","flex-direction":"row",gap:"10rpx"}},{default:n((()=>[i(o,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a},null,8,["modelValue","onUpdate:modelValue"]),i(h,{type:"mild",onClick:_((a=>(e=>{const a=j.domains.indexOf(e);-1!==a&&j.domains.splice(a,1)})(e)),["prevent"])},{default:n((()=>[c(" Delete ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["label","name"])))),128)),i(C,null,{default:n((()=>[i(h,{onClick:l[1]||(l[1]=e=>{var a;(a=x.value)&&a.validate().then((()=>{f("Success!"),console.log("Success!")})).catch((()=>{console.log("error submit!")}))})},{default:n((()=>[c("Submit")])),_:1}),i(h,{type:"outline","root-style":"margin-top: 20rpx",onClick:V},{default:n((()=>[c(" New domain ")])),_:1}),i(h,{type:"outline","root-style":"margin-top: 20rpx",onClick:l[2]||(l[2]=e=>{var a;(a=x.value)&&a.reset()})},{default:n((()=>[c(" Reset ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}});export{x as default};
