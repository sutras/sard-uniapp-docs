import{_ as e}from"./index.CA5jYfGe.js";import{E as l,d as a,G as o,m as t,L as s,g as u,A as d,z as i,N as r,S as n,p as v,o as p,c,e as b,w as m,f as _,h as f,u as y,i as w,t as h,y as C,s as k,x as g,T as x,v as j,F as V,b as B,q as S,M as I,k as $,l as D,B as U,C as E,D as L,U as O,r as A,a as H}from"./index-cDBoG4Q4.js";import{S as M,_ as T}from"./index.BXD0v1E4.js";import{a as q,b as z,_ as F}from"./index.DPvFFOke.js";import{a as G,g as K}from"./dom.v6hFRhZS.js";import{a as N,_ as P}from"./list._aZjdIGr.js";import{_ as J}from"./switch.Bl-Du4c-.js";import{_ as Q}from"./button.D0jjfd-b.js";import"./common.C5AqtFVf.js";const R=l.dropdown,W={options:()=>[]},X=Symbol("dropdown-context"),Y=F(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown-item",props:o({rootStyle:{},rootClass:{},title:{},label:{},options:{},disabled:{type:Boolean},modelValue:{},visible:{type:Boolean},separator:{},placeholder:{}},W),emits:["update:model-value","update:visible"],setup(e,{emit:l}){const a=e,o=l,U=z("dropdown-item"),E=t(X);if(!E)throw new Error("DropdownItem must be included in Dropdown.");const L=s(),O=I(),A=u(a.modelValue);d((()=>a.modelValue),(()=>{A.value=a.modelValue}));const H=u(a.visible),T=u(a.visible),F=u(a.visible);d((()=>a.visible),(()=>{H.value=a.visible})),d(H,(()=>{H.value?(T.value=!0,E.hideOthers(O),R().then((()=>{F.value=!0}))):F.value=!1}));const J=u(""),Q=u(""),R=async()=>{const e=await G(),l=await K(`#${L}`,O),a={left:0,right:0,top:0,bottom:0},o={left:0,right:0,top:0,bottom:0};"down"===E.direction?(a.top=`calc(${l.bottom}px + var(--window-top))`,a.bottom=0,o.top=0,o.bottom=`calc(${e.height-l.bottom}px + var(--window-top))`):(a.top=0,a.bottom=e.height-l.top+"px",o.top=`calc(${l.bottom}px + var(--window-top))`,o.bottom=0),J.value=i(a),Q.value=i(o)},W=e=>{e!==H.value&&(H.value=e,o("update:visible",e))},Y=()=>{E.disabled||a.disabled||W(!H.value)},Z=()=>{E.overlayClosable&&W(!1)},ee=()=>{E.awayClosable&&W(!1)},le=()=>{T.value=!1},ae=()=>{W(!1)};r((()=>{E.register(O,{hide:ae,visible:T})})),n((()=>{E.unregister(O)}));const oe=v((()=>{var e,l;return null==(l=null==(e=a.options)?void 0:e.find((e=>e.value===A.value)))?void 0:l.label})),te=v((()=>T.value?"caret-up":"caret-down")),se=v((()=>"up"===E.direction?"slide-bottom":"slide-top")),ue=v((()=>S(U.b(),U.m(E.direction),U.m("show",T.value),U.m("disabled",E.disabled||a.disabled),a.rootClass))),de=v((()=>i(a.rootStyle)));return(e,l)=>{const a=$,t=D;return p(),c(V,null,[b(t,{class:f(ue.value),style:g(de.value),id:y(L),onClick:Y},{default:m((()=>[e.label?(p(),_(t,{key:0,class:f(y(U).e("label"))},{default:m((()=>[w(h(e.label)+" ",1),y(C)(e.title)&&y(C)(A.value)||!e.separator?k("",!0):(p(),_(a,{key:0},{default:m((()=>[w(h(e.separator),1)])),_:1}))])),_:1},8,["class"])):k("",!0),e.title?(p(),_(t,{key:1,class:f(y(U).e("title"))},{default:m((()=>[w(h(e.title),1)])),_:1},8,["class"])):k("",!0),y(C)(A.value)?e.placeholder?(p(),_(t,{key:3,class:f(y(U).e("placeholder"))},{default:m((()=>[w(h(e.placeholder),1)])),_:1},8,["class"])):k("",!0):(p(),_(t,{key:2,class:f(y(U).e("value"))},{default:m((()=>[w(h(oe.value),1)])),_:1},8,["class"])),b(t,{class:f(y(U).e("arrow"))},{default:m((()=>[b(q,{name:te.value},null,8,["name"])])),_:1},8,["class"])])),_:1},8,["class","style","id"]),T.value?(p(),_(t,{key:0,class:f(y(U).e("away")),style:g(Q.value),onClick:ee,onTouchmove:l[0]||(l[0]=x((()=>{}),["stop","prevent"]))},null,8,["class","style"])):k("",!0),T.value?(p(),_(t,{key:1,class:f(y(U).e("popover")),style:g(J.value)},{default:m((()=>[b(M,{"root-class":y(U).e("popup"),"root-style":y(i)({position:"absolute"}),"overlay-style":y(i)({position:"absolute"}),"overlay-class":y(U).e("overlay"),effect:se.value,visible:F.value,duration:y(E).duration,onAfterLeave:le,onOverlayClick:Z},{default:m((()=>[j(e.$slots,"default",{},(()=>[b(N,{inlaid:""},{default:m((()=>[(p(!0),c(V,null,B(e.options,((e,l)=>(p(),_(P,{key:l,title:e.label,hover:"","root-class":y(S)(y(U).e("option"),y(U).em("option","active",e.value===A.value)),onClick:l=>(e=>{e.value!==A.value&&(A.value=e.value,o("update:model-value",e.value)),W(!1)})(e)},{arrow:m((()=>[b(t,{class:f(y(U).e("option-icon"))},{default:m((()=>[b(q,{name:"success"})])),_:1},8,["class"])])),_:2},1032,["title","root-class","onClick"])))),128))])),_:1})]),!0)])),_:3},8,["root-class","root-style","overlay-style","overlay-class","effect","visible","duration"])])),_:3},8,["class","style"])):k("",!0)],64)}}}),[["__scopeId","data-v-319f2439"]]),Z=F(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown",props:o({rootStyle:{},rootClass:{},direction:{},disabled:{type:Boolean},awayClosable:{type:Boolean},overlayClosable:{type:Boolean},duration:{}},R),setup(e){const l=e,a=z("dropdown"),o=u(new Map),t=v((()=>[...o.value.values()].some((e=>y(e.visible)))));U(X,E({direction:L(l,"direction"),disabled:L(l,"disabled"),awayClosable:L(l,"awayClosable"),overlayClosable:L(l,"overlayClosable"),duration:L(l,"duration"),hideOthers:e=>{o.value.forEach(((l,a)=>{O(a)!==e&&l.hide()}))},register:(e,l)=>{o.value.set(e,l)},unregister:e=>{o.value.delete(e)}}));const s=v((()=>S(a.b(),a.m("show",t.value),l.rootClass))),d=v((()=>i(l.rootStyle)));return(e,l)=>{const o=D;return p(),_(o,{class:f(s.value),style:g(d.value)},{default:m((()=>[b(o,{class:f(y(a).e("shadow"))},null,8,["class"]),j(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-39e6d6ee"]]),ee=a({__name:"Basic",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}],o=u("1"),t=u("1");return(e,s)=>{const u=A(H("sar-dropdown-item"),Y),d=A(H("sar-dropdown"),Z);return p(),_(d,null,{default:m((()=>[b(u,{options:l,modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e)},null,8,["modelValue"]),b(u,{options:a,modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e)},null,8,["modelValue"])])),_:1})}}}),le=a({__name:"Placeholder",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,null,{default:m((()=>[b(t,{placeholder:"排序",options:l}),b(t,{placeholder:"配送时间",options:a})])),_:1})}}}),ae=a({__name:"Label",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,null,{default:m((()=>[b(t,{label:"排序",options:l,"model-value":"1"}),b(t,{label:"速度",options:a,"model-value":"2"})])),_:1})}}}),oe=a({__name:"Direction",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,{direction:"up"},{default:m((()=>[b(t,{options:l,"model-value":"1"}),b(t,{options:a,"model-value":"2"})])),_:1})}}}),te=a({__name:"Disabled",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,{disabled:""},{default:m((()=>[b(t,{options:l,"model-value":"1"}),b(t,{options:a,"model-value":"2"})])),_:1})}}}),se=a({__name:"Content",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=u(!1);return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-switch"),J),u=A(H("sar-list-item"),P),d=A(H("sar-button"),Q),i=A(H("sar-list"),N),r=A(H("sar-dropdown"),Z);return p(),_(r,{direction:"up"},{default:m((()=>[b(t,{options:l,"model-value":"1"}),b(t,{title:"筛选",visible:a.value,"onUpdate:visible":o[1]||(o[1]=e=>a.value=e)},{default:m((()=>[b(i,{inlaid:""},{default:m((()=>[b(u,{title:"包邮"},{value:m((()=>[b(s,{"model-value":!0})])),_:1}),b(u,{title:"团购"},{value:m((()=>[b(s)])),_:1}),b(u,null,{default:m((()=>[b(d,{round:"",onClick:o[0]||(o[0]=e=>a.value=!1)},{default:m((()=>[w("确认")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])),_:1})}}}),ue=F(a({__name:"index",setup:l=>(l,a)=>{const o=A(H("doc-demo"),e),t=A(H("doc-page"),T);return p(),_(t,null,{default:m((()=>[b(o,{title:"基础使用",full:""},{default:m((()=>[b(ee)])),_:1}),b(o,{title:"占位符",full:""},{default:m((()=>[b(le)])),_:1}),b(o,{title:"添加 label",full:""},{default:m((()=>[b(ae)])),_:1}),b(o,{title:"向上展开",full:""},{default:m((()=>[b(oe)])),_:1}),b(o,{title:"禁用",full:""},{default:m((()=>[b(te)])),_:1}),b(o,{title:"自定义内容",full:""},{default:m((()=>[b(se)])),_:1})])),_:1})}}),[["__scopeId","data-v-829ba5f4"]]);export{ue as default};
