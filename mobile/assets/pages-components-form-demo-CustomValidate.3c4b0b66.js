import{S as e}from"./input.d9fb9699.js";import{d as a,g as s,C as t,o as r,f as l,w as o,e as u,v as i,i as n,H as m,r as d,a as p}from"./index-158834fb.js";import{_ as c,a as f}from"./form.fb8edfb0.js";import{a as g,_ as h}from"./index.be0dc1e1.js";import{_ as v}from"./button.90fb394d.js";import"./index.a84991b2.js";import"./common.26852cb0.js";import"./dom.607148e9.js";const _=a({__name:"CustomValidate",setup(a){const _=s(),b=t({pass:"",checkPass:"",age:""}),P=t({pass:[{validator:e=>{if(""===e)return"Please input the password";if(""!==b.checkPass){if(!_.value)return!0;_.value.validate(["checkPass"]).catch((()=>{}))}return!0},trigger:"blur"}],checkPass:[{validator:e=>""===e?"Please input the password again":e===b.pass||"Two inputs don't match!",trigger:"blur"}],age:[{validator:e=>new Promise(((a,s)=>{if(!e)return s("Please input the age");setTimeout((()=>{Number.isInteger(Number(e))?e<18?s("Age must be greater than 18"):a():s("Please input digits")}),1e3)})),trigger:"blur"}]});return(a,s)=>{const t=d(p("sar-input"),e),k=d(p("sar-form-item"),c),V=d(p("sar-loading"),g),j=d(p("sar-button"),v),w=d(p("sar-form"),f),y=d(p("doc-page"),h);return r(),l(y,null,{default:o((()=>[u(w,{ref_key:"ruleFormRef",ref:_,model:b,rules:P},{default:o((()=>[u(k,{label:"Password",name:"pass"},{default:o((()=>[u(t,{modelValue:b.pass,"onUpdate:modelValue":s[0]||(s[0]=e=>b.pass=e),type:"password"},null,8,["modelValue"])])),_:1}),u(k,{label:"Confirm",name:"checkPass"},{default:o((()=>[u(t,{modelValue:b.checkPass,"onUpdate:modelValue":s[1]||(s[1]=e=>b.checkPass=e),type:"password"},null,8,["modelValue"])])),_:1}),u(k,{label:"Age",name:"age"},{validate:o((({state:e})=>[u(t,{modelValue:b.age,"onUpdate:modelValue":s[2]||(s[2]=e=>b.age=e)},{append:o((()=>["validating"===e?(r(),l(V,{key:0,color:"var(--sar-tertiary-color)"})):i("",!0)])),_:2},1032,["modelValue"])])),_:1}),u(k,null,{default:o((()=>[u(j,{onClick:s[3]||(s[3]=e=>{var a;(a=_.value)&&a.validate().then((()=>{m("Success!"),console.log("Success!")})).catch((()=>{console.log("error submit!")}))})},{default:o((()=>[n("Submit")])),_:1}),u(j,{type:"outline","root-style":"margin-top: 20rpx",onClick:s[4]||(s[4]=e=>{var a;(a=_.value)&&a.reset()})},{default:o((()=>[n(" Reset ")])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})}}});export{_ as default};
