import{d as e,ab as s,S as a,g as t,A as l,p as o,q as i,s as c,o as n,f as r,w as d,e as m,h as u,u as f,y,i as p,t as h,v,x as b,l as _,E as g}from"./index-55845ce0.js";import{_ as x,a as k}from"./index.f4d2668a.js";import{P as C}from"./index.f5b2fbd4.js";import{_ as z}from"./button.810661ff.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";const w=j(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dialog",props:s,emits:["update:visible","close","cancel","confirm"],setup(e,{emit:s}){const j=e,w=k("dialog"),{t:T}=a("dialog"),I=t(j.visible);l((()=>j.visible),(()=>{I.value=j.visible}));const P=t({cancel:!1,confirm:!1}),S=e=>{if(s(e),"function"==typeof j.beforeClose){const a=j.beforeClose(e);if(a instanceof Promise)return P.value[e]=!0,a.then((()=>{I.value=!1,s("update:visible",!1)})).catch(g).finally((()=>{P.value[e]=!1}));if(!1===a)return}I.value=!1,s("update:visible",!1)},q=()=>{j.overlayClosable&&S("close")},A=()=>{S("close")},E=()=>{S("confirm")},H=()=>{S("cancel")},O=o((()=>({text:{cancel:{type:"text",theme:"secondary",size:"large"},confirm:{type:"text",theme:"primary",size:"large"}},round:{cancel:{type:"pale",theme:"primary",round:!0},confirm:{type:"default",theme:"primary",round:!0}}}[j.buttonType]))),W=o((()=>i(w.b(),w.m("headed",j.headed),w.m("untitled",!j.title),w.m(j.buttonType),j.rootClass))),$=o((()=>c(j.rootStyle)));return(e,s)=>{const a=_;return n(),r(C,{effect:"zoom",visible:e.visible,onOverlayClick:q,"root-style":{maxWidth:"var(--sar-dialog-max-width)"}},{default:d((()=>[m(a,{class:u(f(W)),style:y(f($))},{default:d((()=>[e.headed?(n(),r(a,{key:0,class:u(f(w).e("header"))},{default:d((()=>[e.title?(n(),r(a,{key:0,class:u(f(w).e("title"))},{default:d((()=>[p(h(e.title),1)])),_:1},8,["class"])):v("",!0),m(a,{class:u(f(w).e("close"))},{default:d((()=>[m(z,{type:"pale-text",theme:"secondary",size:"large",onClick:A},{default:d((()=>[m(x,{name:"close"})])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])):v("",!0),!e.headed&&e.title||e.message?(n(),r(a,{key:1,class:u(f(w).e("body"))},{default:d((()=>[!e.headed&&e.title?(n(),r(a,{key:0,class:u(f(w).e("title"))},{default:d((()=>[p(h(e.title),1)])),_:1},8,["class"])):v("",!0),e.message?(n(),r(a,{key:1,class:u(f(w).e("message"))},{default:d((()=>[p(h(e.message),1)])),_:1},8,["class"])):v("",!0)])),_:1},8,["class"])):v("",!0),b(e.$slots,"default",{},void 0,!0),m(a,{class:u(f(w).e("footer"))},{default:d((()=>[e.showCancel?(n(),r(z,{key:0,"root-class":f(w).e("button"),loading:P.value.cancel,type:f(O).cancel.type,theme:f(O).cancel.theme,size:f(O).cancel.size,round:f(O).confirm.round,onClick:H},{default:d((()=>[p(h(e.cancelText||f(T)("cancel")),1)])),_:1},8,["root-class","loading","type","theme","size","round"])):v("",!0),e.showCancel&&"text"===e.buttonType?(n(),r(a,{key:1,class:u(f(w).e("divider"))},null,8,["class"])):v("",!0),e.showConfirm?(n(),r(z,{key:2,"root-class":f(w).e("button"),loading:P.value.confirm,type:f(O).confirm.type,theme:f(O).confirm.theme,size:f(O).confirm.size,round:f(O).confirm.round,onClick:E},{default:d((()=>[p(h(e.confirmText||f(T)("confirm")),1)])),_:1},8,["root-class","loading","type","theme","size","round"])):v("",!0)])),_:1},8,["class"])])),_:3},8,["class","style"])])),_:3},8,["visible","root-style"])}}}),[["__scopeId","data-v-cbba6b00"]]);export{w as _};
