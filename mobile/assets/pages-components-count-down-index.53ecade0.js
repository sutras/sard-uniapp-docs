import{_ as e}from"./index.70abdba0.js";import{E as t,d as a,g as o,p as s,A as n,M as l,x as r,i,t as u,u as c,r as d,a as m,o as f,f as p,w as _,e as v,l as S,c as g,F as w,H as x,k as h}from"./index-158834fb.js";import{_ as y}from"./index.be0dc1e1.js";import{_ as k}from"./index.a84991b2.js";import{_ as b,a as j}from"./grid.15743f1c.js";import{_ as H}from"./button.90fb394d.js";import{S as D}from"./input.d9fb9699.js";import"./common.26852cb0.js";function C(e){return{milliseconds:e%1e3,seconds:~~(e/1e3)%60,minutes:~~(e/1e3/60)%60,hours:~~(e/1e3/60/60)%60,days:~~(e/1e3/60/60/24),total:e}}function F(e,t=2){return String(e).padStart(t,"0")}function I(e,t){return e.replace(/DD/g,F(t.days)).replace(/HH/g,F(t.hours)).replace(/mm/g,F(t.minutes)).replace(/ss/g,F(t.seconds)).replace(/s/g,String(t.seconds)).replace(/SSS/g,F(t.milliseconds,3)).replace(/SS/g,F(t.milliseconds,3).slice(0,2)).replace(/S/g,F(t.milliseconds,3).slice(0,1))}const M=a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"count-down",props:{time:{type:Number,default:t.countDown.time},autoStart:{type:Boolean,default:t.countDown.autoStart},format:{type:String,default:t.countDown.format},millisecond:Boolean},emits:["change","finish"],setup(e,{expose:t,emit:a}){const d=e,m=o(d.time);let f=0,p=null,_=!0;const v=()=>{const e=Date.now();if(m.value=Math.max(f-e,0),0===m.value)return g(),void a("finish");p=setTimeout((()=>{v()}),30)},S=()=>{_&&(_=!1,f=Date.now()+m.value,v())},g=()=>{_||(clearTimeout(p),p=null,_=!0)},w=s((()=>d.millisecond?m.value:1e3*Math.floor(m.value/1e3))),x=o(C(w.value));return n(w,(()=>{x.value=C(w.value),a("change",x.value)})),t({start:S,pause:g,reset:()=>{g(),m.value=d.time}}),l((()=>{d.autoStart&&S()})),(e,t)=>r(e.$slots,"default",{time:x.value},(()=>[i(u(c(I)(e.format,x.value)),1)]))}});const T=k({},[["render",function(e,t){const a=d(m("sar-count-down"),M);return f(),p(a,{time:72e5})}]]);const B=k({},[["render",function(e,t){const a=d(m("sar-count-down"),M);return f(),p(a,{time:72e5,format:"HH 时 mm 分 ss 秒"})}]]);const z=k({},[["render",function(e,t){const a=d(m("sar-count-down"),M);return f(),p(a,{time:72e5,format:"HH 时 mm 分 ss 秒 SSS 毫秒",millisecond:""})}]]);const A=k({},[["render",function(e,t){const a=S,o=d(m("sar-count-down"),M);return f(),p(o,{time:72e5},{default:_((({time:e})=>[v(a,{class:"container"},{default:_((()=>[v(a,{class:"box"},{default:_((()=>[i(u(String(e.hours).padStart(2,"0")),1)])),_:2},1024),v(a,{class:"colon"},{default:_((()=>[i(":")])),_:1}),v(a,{class:"box"},{default:_((()=>[i(u(String(e.minutes).padStart(2,"0")),1)])),_:2},1024),v(a,{class:"colon"},{default:_((()=>[i(":")])),_:1}),v(a,{class:"box"},{default:_((()=>[i(u(String(e.seconds).padStart(2,"0")),1)])),_:2},1024)])),_:2},1024)])),_:1})}],["__scopeId","data-v-bcc63e23"]]),E=a({__name:"Control",setup(e){const t=o();return(e,a)=>{const o=d(m("sar-grid-item"),b),s=d(m("sar-grid"),j),n=d(m("sar-count-down"),M);return f(),g(w,null,[v(s,{clickable:"",columns:3},{default:_((()=>[v(o,{onClick:a[0]||(a[0]=()=>{var e;return null==(e=t.value)?void 0:e.start()}),icon:"play-circle","icon-family":"demo-icons",text:"开始"}),v(o,{onClick:a[1]||(a[1]=()=>{var e;return null==(e=t.value)?void 0:e.pause()}),icon:"pause-circle","icon-family":"demo-icons",text:"暂停"}),v(o,{onClick:a[2]||(a[2]=()=>{var e;return null==(e=t.value)?void 0:e.reset()}),icon:"arrow-clockwise","icon-family":"demo-icons",text:"重置"})])),_:1}),v(n,{ref_key:"elRef",ref:t,time:1e4,format:"ss:SSS",millisecond:"","auto-start":!1,onFinish:a[3]||(a[3]=e=>c(x)("到时了!"))},null,512)],64)}}}),N=a({__name:"Captcha",setup(e){const t=o(!1),a=o(!1),s=()=>{t.value=!0,new Promise((e=>setTimeout(e,1e3))).then((()=>{x("已发送验证码"),a.value=!0})).finally((()=>{t.value=!1}))};return(e,o)=>{const n=d(m("sar-count-down"),M),l=h,r=d(m("sar-button"),H),u=d(m("sar-input"),D);return f(),p(u,{placeholder:"请输入验证码"},{append:_((()=>[v(r,{size:"small",loading:t.value,disabled:a.value,onClick:s,"root-style":"min-width: 200rpx"},{default:_((()=>[a.value?(f(),p(n,{key:0,time:8e3,format:"重发验证码(s)",onFinish:o[0]||(o[0]=e=>a.value=!1)})):t.value?(f(),p(l,{key:1},{default:_((()=>[i("正在发送")])),_:1})):(f(),p(l,{key:2},{default:_((()=>[i("发送验证码")])),_:1}))])),_:1},8,["loading","disabled"])])),_:1})}}}),P=k(a({__name:"index",setup:t=>(t,a)=>{const o=d(m("doc-demo"),e),s=d(m("doc-page"),y);return f(),p(s,null,{default:_((()=>[v(o,{title:"基础使用"},{default:_((()=>[v(T)])),_:1}),v(o,{title:"自定义格式"},{default:_((()=>[v(B)])),_:1}),v(o,{title:"毫秒级别的渲染"},{default:_((()=>[v(z)])),_:1}),v(o,{title:"自定义样式"},{default:_((()=>[v(A)])),_:1}),v(o,{title:"手动控制"},{default:_((()=>[v(E)])),_:1}),v(o,{title:"验证码倒计时"},{default:_((()=>[v(N)])),_:1})])),_:1})}}),[["__scopeId","data-v-4b77afc4"]]);export{P as default};
