import{S as e}from"./input.a4dc6f6c.js";import{d as a,g as l,C as o,o as s,f as t,w as m,e as r,c as n,b as i,F as u,i as d,H as p,r as c,a as f,R as _,l as g}from"./index-6f8f5948.js";import{_ as y,a as b}from"./form.70bbbf4a.js";import{_ as k}from"./button.8a95f6cb.js";import{_ as v}from"./index.b4cc07cd.js";import"./index.09d87181.js";import"./common.097e1cb5.js";import"./dom.f92aa117.js";const x=a({__name:"DynamicFormItem",setup(a){const x=l(),j=o({domains:[{key:1,value:""}],email:""}),V=()=>{j.domains.push({key:Date.now(),value:""})};return(a,l)=>{const o=c(f("sar-input"),e),C=c(f("sar-form-item"),y),h=c(f("sar-button"),k),w=g,D=c(f("sar-form"),b),S=c(f("doc-page"),v);return s(),t(S,null,{default:m((()=>[r(D,{ref_key:"formRef",ref:x,model:j},{default:m((()=>[r(C,{name:"email",label:"Email",rules:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]},{default:m((()=>[r(o,{modelValue:j.email,"onUpdate:modelValue":l[0]||(l[0]=e=>j.email=e)},null,8,["modelValue"])])),_:1}),(s(!0),n(u,null,i(j.domains,((e,a)=>(s(),t(C,{key:e.key,label:"Domain"+a,name:["domains",a,"value"],rules:{required:!0,message:"domain can not be null"}},{default:m((()=>[r(w,{style:{display:"flex","flex-direction":"row",gap:"10rpx"}},{default:m((()=>[r(o,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a},null,8,["modelValue","onUpdate:modelValue"]),r(h,{type:"mild",onClick:_((a=>(e=>{const a=j.domains.indexOf(e);-1!==a&&j.domains.splice(a,1)})(e)),["prevent"])},{default:m((()=>[d(" Delete ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["label","name"])))),128)),r(C,null,{default:m((()=>[r(h,{onClick:l[1]||(l[1]=e=>{var a;(a=x.value)&&a.validate().then((()=>{p("Success!"),console.log("Success!")})).catch((()=>{console.log("error submit!")}))})},{default:m((()=>[d("Submit")])),_:1}),r(h,{type:"outline","root-style":"margin-top: 20rpx",onClick:V},{default:m((()=>[d(" New domain ")])),_:1}),r(h,{type:"outline","root-style":"margin-top: 20rpx",onClick:l[2]||(l[2]=e=>{var a;(a=x.value)&&a.reset()})},{default:m((()=>[d(" Reset ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}});export{x as default};
