import{I as e}from"./input.c692577b.js";import{d as a,g as l,C as r,o as s,f as o,w as t,e as u,c as i,b as m,F as n,i as d,R as p,G as f,r as _,a as v,k as g}from"./index-9377a170.js";import{_ as c,a as j}from"./form.aa22a0ea.js";import{_ as b}from"./avatar.5fa6972b.js";import{_ as k,a as h}from"./list.36009550.js";import{_ as y}from"./button.65db1ec1.js";import{_ as x}from"./stepper.64f45ce8.js";import{_ as U}from"./dialog.cd6a14a4.js";import{_ as V}from"./index.913a9e45.js";import"./index.fad96fb0.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./common.802edc1c.js";import"./dom.8f2393f5.js";const w=a({__name:"MultiFormLinkage",setup(a){const w=l(),F=l(),N=l(!1),q=r({group:"",users:[]}),C=l({}),G=e=>{var a;if("confirm"===e)return null==(a=F.value)?void 0:a.validate().then((()=>{var e;q.users.push({...C.value,key:Date.now()}),null==(e=F.value)||e.reset()}))},L=()=>{var e;null==(e=w.value)||e.validate().then((()=>{console.log("Finish:",p(q)),f("Success")})).catch((e=>{console.log("error",e)}))};return(a,l)=>{const r=_(v("sar-input"),e),p=_(v("sar-form-item"),c),f=_(v("sar-avatar"),b),R=_(v("sar-list-item"),k),z=_(v("sar-list"),h),A=g,D=_(v("sar-button"),y),I=_(v("sar-form"),j),S=_(v("sar-stepper"),x),$=_(v("sar-dialog"),U),B=_(v("doc-page"),V);return s(),o(B,null,{default:t((()=>[u(I,{ref_key:"formRef",ref:w,model:q,"label-width":"200rpx"},{default:t((()=>[u(p,{name:"group",label:"Group Name",rules:[{required:!0,message:"Please input group name!"}]},{default:t((()=>[u(r,{modelValue:q.group,"onUpdate:modelValue":l[0]||(l[0]=e=>q.group=e)},null,8,["modelValue"])])),_:1}),u(p,{label:"User List"},{default:t((()=>[q.users.length?(s(),o(z,{key:0,inlaid:""},{default:t((()=>[(s(!0),i(n,null,m(q.users,(e=>(s(),o(R,{key:e.key,title:`${e.name} - ${e.age}`},{icon:t((()=>[u(f,{size:"64rpx","icon-size":"40rpx"})])),_:2},1032,["title"])))),128))])),_:1})):(s(),o(A,{key:1},{default:t((()=>[d("( No user yet. )")])),_:1}))])),_:1}),u(p,null,{default:t((()=>[u(D,{onClick:L},{default:t((()=>[d("Submit")])),_:1}),u(D,{type:"outline","root-style":"margin-top: 20rpx",onClick:l[1]||(l[1]=e=>N.value=!0)},{default:t((()=>[d(" Add User ")])),_:1})])),_:1})])),_:1},8,["model"]),u($,{visible:N.value,"onUpdate:visible":l[4]||(l[4]=e=>N.value=e),title:"Basic Drawer","before-close":G},{default:t((()=>[u(I,{ref_key:"modalFormRef",ref:F,model:C.value},{default:t((()=>[u(p,{name:"name",label:"User Name",rules:[{required:!0}]},{default:t((()=>[u(r,{modelValue:C.value.name,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value.name=e),inlaid:"",placeholder:"Input User Name"},null,8,["modelValue"])])),_:1}),u(p,{name:"age",label:"User Age",rules:[{required:!0}]},{default:t((()=>[u(S,{modelValue:C.value.age,"onUpdate:modelValue":l[3]||(l[3]=e=>C.value.age=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])),_:1})}}});export{w as default};
