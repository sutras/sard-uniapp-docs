import{E as e,d as a,G as l,p as s,g as t,A as o,o as u,f as n,w as d,c as p,F as i,b as c,h as r,u as v,q as m,i as y,t as g,s as f,e as x,x as h,z as b,l as _,ac as B}from"./index-cDBoG4Q4.js";import{b as k,_ as w}from"./index.DPvFFOke.js";import{a as I,u as E}from"./common.C5AqtFVf.js";const V=e.passwordInput,j=w(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"password-input",props:l({rootStyle:{},rootClass:{},modelValue:{},length:{},type:{},gap:{},plainText:{type:Boolean},focused:{type:Boolean},customKeyboard:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},validateEvent:{type:Boolean}},V),emits:["update:model-value","updat:focused"],setup(e,{emit:a}){const l=e,w=a,V=k("password-input"),j=I(),C=E(),A=s((()=>(null==j?void 0:j.disabled)??l.disabled)),F=s((()=>(null==j?void 0:j.readonly)??l.readonly)),K=t(l.modelValue??"");o((()=>l.modelValue),(()=>{K.value=l.modelValue??"",l.validateEvent&&(null==C||C.onChange())}));const S=e=>{const a=e.detail.value;return K.value=a,w("update:model-value",a),a},T=t(l.focused);o((()=>l.focused),(()=>{T.value=l.focused}));const q=()=>{T.value=!0,w("updat:focused",!0)},z=()=>{T.value=!1,w("updat:focused",!1),l.validateEvent&&(null==C||C.onBlur())},G=s((()=>{const e=K.value.length;return Array(l.length).fill(0).map(((a,s)=>({index:s,active:T.value&&(s===e||s===e-1&&s===l.length-1)})))})),H=s((()=>0===l.gap||"string"==typeof l.gap&&0===parseInt(l.gap))),$=s((()=>m(V.b(),V.m("readonly",F.value),V.m("disabled",A.value),V.m(l.type,!H.value),V.m(`tight-${l.type}`,H.value),l.rootClass))),D=s((()=>b({gap:l.gap},l.rootStyle)));return(e,a)=>{const l=_,s=B;return u(),n(l,{class:r($.value),style:h(D.value)},{default:d((()=>[(u(!0),p(i,null,c(G.value,(a=>(u(),n(l,{key:a.index,class:r(v(m)(v(V).e("item"),v(V).em("item","active",a.active)))},{default:d((()=>[a.index<K.value.length?(u(),p(i,{key:0},[e.plainText?(u(),n(l,{key:0,class:r(v(V).e("plaintext"))},{default:d((()=>[y(g(K.value[a.index]),1)])),_:2},1032,["class"])):(u(),n(l,{key:1,class:r(v(V).e("ciphertext"))},null,8,["class"]))],64)):f("",!0),T.value&&a.index===K.value.length?(u(),n(l,{key:1,class:r(v(V).e("cursor"))},null,8,["class"])):f("",!0)])),_:2},1032,["class"])))),128)),e.customKeyboard?f("",!0):(u(),n(l,{key:0,class:r(v(V).e("input-wrapper"))},{default:d((()=>[x(s,{type:"number",class:r(v(V).e("input")),disabled:A.value||F.value,value:K.value,maxlength:e.length,onInput:S,onFocus:q,onBlur:z},null,8,["class","disabled","value","maxlength"])])),_:1},8,["class"]))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-0ac07cc9"]]);export{j as _};
