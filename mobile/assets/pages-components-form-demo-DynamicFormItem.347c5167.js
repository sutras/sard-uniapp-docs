import{I as e}from"./input.0bbac4cd.js";import{d as a,g as l,C as o,o as s,f as t,w as r,e as m,c as n,b as i,F as u,i as d,G as p,r as c,a as f,Q as _,l as g}from"./index-55845ce0.js";import{_ as y,a as v}from"./form.d4fb7392.js";import{_ as b}from"./button.810661ff.js";import{_ as x}from"./index.f5b2fbd4.js";import"./index.f4d2668a.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./common.bcce75e7.js";import"./dom.7fe67c3f.js";const j=a({__name:"DynamicFormItem",setup(a){const j=l(),k=o({domains:[{key:1,value:""}],email:""}),V=()=>{k.domains.push({key:Date.now(),value:""})};return(a,l)=>{const o=c(f("sar-input"),e),h=c(f("sar-form-item"),y),C=c(f("sar-button"),b),w=g,D=c(f("sar-form"),v),S=c(f("doc-page"),x);return s(),t(S,null,{default:r((()=>[m(D,{ref_key:"formRef",ref:j,model:k},{default:r((()=>[m(h,{name:"email",label:"Email",rules:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]},{default:r((()=>[m(o,{modelValue:k.email,"onUpdate:modelValue":l[0]||(l[0]=e=>k.email=e)},null,8,["modelValue"])])),_:1}),(s(!0),n(u,null,i(k.domains,((e,a)=>(s(),t(h,{key:e.key,label:"Domain"+a,name:["domains",a,"value"],rules:{required:!0,message:"domain can not be null"}},{default:r((()=>[m(w,{style:{display:"flex","flex-direction":"row",gap:"10rpx"}},{default:r((()=>[m(o,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a},null,8,["modelValue","onUpdate:modelValue"]),m(C,{type:"mild",onClick:_((a=>(e=>{const a=k.domains.indexOf(e);-1!==a&&k.domains.splice(a,1)})(e)),["prevent"])},{default:r((()=>[d(" Delete ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["label","name"])))),128)),m(h,null,{default:r((()=>[m(C,{onClick:l[1]||(l[1]=e=>{var a;(a=j.value)&&a.validate().then((()=>{p("Success!"),console.log("Success!")})).catch((()=>{console.log("error submit!")}))})},{default:r((()=>[d("Submit")])),_:1}),m(C,{type:"outline","root-style":"margin-top: 20rpx",onClick:V},{default:r((()=>[d(" New domain ")])),_:1}),m(C,{type:"outline","root-style":"margin-top: 20rpx",onClick:l[2]||(l[2]=e=>{var a;(a=j.value)&&a.reset()})},{default:r((()=>[d(" Reset ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}});export{j as default};
