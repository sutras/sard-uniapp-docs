import{d as e,p as a,g as l,A as t,z as u,q as o,s,o as n,f as r,w as d,e as m,h as i,u as p,y as c,l as v,a9 as b,U as y}from"./index-9377a170.js";import{_ as f,a as N}from"./index.fad96fb0.js";import{a as h,u as T}from"./common.802edc1c.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const S=_(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"stepper",props:{rootStyle:[String,Object,Array],rootClass:String,modelValue:[Number,String],min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},valueOnClear:[Number,String],step:{type:Number,default:1},precision:Number,inputStyle:String,inputType:{type:String,default:"number"},placeholder:String,disabled:Boolean,readonly:Boolean,press:{type:Boolean,default:!0},pressTime:{type:Number,default:350},interval:{type:Number,default:150},validateEvent:{type:Boolean,default:!0}},emits:["update:model-value","focus","blur"],setup(e,{emit:_}){const S=e,g=N("stepper"),x=h(),E=T(),C=a((()=>(null==x?void 0:x.disabled)??S.disabled)),I=a((()=>(null==x?void 0:x.readonly)??S.readonly)),V=l(S.modelValue),j=l(S.modelValue);t((()=>S.modelValue),(()=>{V.value=S.modelValue,j.value=S.modelValue,S.validateEvent&&(null==E||E.onChange())}));const A=e=>{V.value=e,_("update:model-value",e)},B=e=>{A(e),j.value=e},O=e=>(e=y(e,S.min,S.max),void 0!==S.precision&&(e=+e.toFixed(S.precision)),e),F=()=>"min"===S.valueOnClear?S.min:"max"===S.valueOnClear?S.max:S.valueOnClear,M=e=>{const a=e.detail.value;j.value=a,""===a&&A(F())},w=e=>{if(""!==j.value){const e=Number(j.value);isNaN(e)?(j.value="",A(F())):B(O(e))}_("blur",e)},k=e=>{_("focus",e)},G=a((()=>!u(V.value)&&Number(V.value)<=S.min)),L=a((()=>!u(V.value)&&Number(V.value)>=S.max)),R=e=>{B(O((Number(V.value)||0)+S.step*e))},q=(e,a)=>{C.value||I.value||a||R(e)};let z,H=!1;const U=e=>{H&&(R(e),setTimeout((()=>{U(e)}),S.interval))},X=e=>{!S.press||C.value||I.value||-1===e&&G.value||1===e&&L.value||(clearTimeout(z),H=!1,z=setTimeout((()=>{H=!0,U(e)}),S.pressTime))},D=()=>{clearTimeout(z),H=!1},J=e=>{X(e);const a=()=>{D(),document.removeEventListener("mouseup",a)};document.addEventListener("mouseup",a)},K=a((()=>o(g.b(),g.m("disabled",C.value),g.m("readonly",I.value),S.rootClass))),P=a((()=>s(S.rootStyle)));return(e,a)=>{const l=v,t=b;return n(),r(l,{class:i(p(K)),style:c(p(P))},{default:d((()=>[m(l,{class:i(p(o)(p(g).e("button"),p(g).em("button","disabled",p(C)||p(G)),p(g).em("button","readonly",p(I)),p(g).em("button","decrease"))),onClick:a[0]||(a[0]=e=>q(-1,p(G))),onTouchstart:a[1]||(a[1]=e=>X(-1)),onTouchend:D,onTouchcancel:D,onMousedown:a[2]||(a[2]=e=>J(-1))},{default:d((()=>[m(f,{name:"minus"})])),_:1},8,["class"]),m(t,{class:i(p(g).e("input")),type:e.inputType,placeholder:e.placeholder,"placeholder-class":p(g).e("placeholder"),value:j.value,disabled:p(C)||p(I),stype:e.inputStyle,onInput:M,onBlur:w,onFocus:k},null,8,["class","type","placeholder","placeholder-class","value","disabled","stype"]),m(l,{class:i(p(o)(p(g).e("button"),p(g).em("button","disabled",p(C)||p(L)),p(g).em("button","readonly",p(I)),p(g).em("button","increase"))),onClick:a[3]||(a[3]=e=>q(1,p(L))),onTouchstart:a[4]||(a[4]=e=>X(1)),onTouchend:D,onTouchcancel:D,onMousedown:a[5]||(a[5]=e=>J(1))},{default:d((()=>[m(f,{name:"plus"})])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-7cb2fd78"]]);export{S as _};
