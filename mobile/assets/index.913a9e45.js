import{p as e,g as t,L as a,O as l,A as s,d as o,C as n,D as r,q as i,s as u,u as v,o as c,f as d,w as p,x as y,h as f,y as b,Q as m,v as g,l as x,B as _,m as S,c as k,W as C,X as $,e as h,F as T,b as I,V as z,i as H,t as A,Y as B,Z as j,_ as V,$ as O,r as w,a as E}from"./index-9377a170.js";import{a as F,_ as L,c as N}from"./index.fad96fb0.js";import{_ as W}from"./_plugin-vue_export-helper.1b428a4d.js";function q(o={}){const n=e((()=>function(e=0){let t,a;return"number"==typeof e?t=a=e:[t,a]=e,{enter:t,leave:a}}(o.duration))),r=e((()=>o.enterFromClass||`${o.prefix}enter-from`)),i=e((()=>o.enterActiveClass||`${o.prefix}enter-active`)),u=e((()=>o.enterToClass||`${o.prefix}enter-to`)),v=e((()=>o.leaveFromClass||`${o.prefix}leave-from`)),c=e((()=>o.leaveActiveClass||`${o.prefix}leave-active`)),d=e((()=>o.leaveToClass||`${o.prefix}leave-to`)),p=t(!1),y=t("");let f,b,m="";function g(e){b=setTimeout((()=>{b=null,e()}),30)}function x(){b&&(clearTimeout(b),b=null),f&&(clearTimeout(f),f=null)}function _(e){var t;null==(t=o.onVisibleHook)||t.call(o,e)}function S(){x(),"leaving"===m&&_("leave-cancelled"),m="entering",p.value=!0,y.value=`${r.value} ${i.value}`,_("before-enter"),g((()=>{y.value=`${i.value} ${u.value}`,_("enter")})),f=setTimeout((()=>{f=null,"entering"===m&&o.visible&&k()}),n.value.enter+30+100)}function k(){x(),m="entered",y.value="",_("after-enter")}function C(){x(),m="leaved",y.value="",p.value=!1,_("after-leave")}return a((()=>{o.visible&&S()})),l((()=>{f&&(clearTimeout(f),f=null),b&&(clearTimeout(b),b=null)})),s((()=>o.visible),(()=>{o.visible?S():(x(),"entering"===m&&_("enter-cancelled"),m="leaving",y.value=`${v.value} ${c.value}`,_("before-leave"),g((()=>{y.value=`${c.value} ${d.value}`,_("leave")})),f=setTimeout((()=>{f=null,"leaving"!==m||o.visible||C()}),n.value.leave+30+100))})),{onTransitionEnd:function(){"entering"===m&&o.visible?k():"leaving"!==m||o.visible||C()},realVisible:p,transitionClass:y}}function D(e){let t;const a=()=>{t&&(clearTimeout(t),t=null)};return l((()=>{a()})),[l=>{a(),t=setTimeout((()=>{t=null,e()}),l)},a,()=>!!t]}let P=1e3;function Q(){const e=t(P);return[e,function(){e.value=P+=1}]}const R=W(o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"overlay",props:{rootStyle:[String,Object,Array],rootClass:String,visible:Boolean,zIndex:Number,duration:{type:[Number,Array],default:300},background:String,transparent:Boolean},emits:["click"],setup(t,{emit:a}){const l=t,s=F("overlay"),o=e=>{a("click",e)},{realVisible:_,transitionClass:S,onTransitionEnd:k}=q(n({visible:r(l,"visible"),duration:r(l,"duration"),prefix:s.m("")})),C=e((()=>i(s.b(),s.m("transparent",l.transparent),s.m("visible",l.visible),S.value,l.rootClass))),$=e((()=>u({zIndex:l.zIndex,backgroundColor:l.background},l.rootStyle)));return(e,t)=>{const a=x;return v(_)?(c(),d(a,{key:0,class:f(v(C)),style:b(v($)),onClick:o,onTransitionend:v(k),onTouchmove:t[0]||(t[0]=m((()=>{}),["stop","prevent"]))},{default:p((()=>[y(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTransitionend"])):g("",!0)}}}),[["__scopeId","data-v-9e15b91d"]]),U={rootStyle:[String,Object,Array],rootClass:String,visible:Boolean,duration:{type:[Number,Array],default:300},effect:{type:String,default:"fade"},overlay:{type:Boolean,default:!0},overlayClass:String,overlayStyle:String,background:String,transparent:Boolean},X=Symbol("popup-context");function Y(){const e=t();return _(X,n({visibleState:e})),function(t){e.value=t}}function Z(e){const t=S(X,null);t&&s((()=>t.visibleState),(()=>{"enter"===t.visibleState&&(null==e||e())}))}const G=W(o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"popup",props:U,emits:["overlay-click","before-enter","enter","after-enter","enter-cancelled","before-leave","leave","after-leave","leave-cancelled","visible-hook"],setup(t,{emit:a}){const l=t,s=F("popup"),[o,m]=Q(),_=Y(),{realVisible:S,transitionClass:I,onTransitionEnd:z}=q(n({visible:r(l,"visible"),duration:r(l,"duration"),prefix:e((()=>s.m(l.effect)+"-")),onVisibleHook(e){_(e),a("visible-hook",e),a(e),"before-enter"===e&&m()}})),H=e=>{a("overlay-click",e)},A=e((()=>i(s.b(),s.m(l.effect),l.rootClass,I.value))),B=e((()=>u({zIndex:o.value},l.rootStyle)));return(e,t)=>{const a=x;return c(),k(T,null,[e.overlay?(c(),d(R,{key:0,visible:e.visible,"z-index":v(o),background:e.background,transparent:e.transparent,"root-style":e.overlayStyle,"root-class":e.overlayClass,onClick:H},null,8,["visible","z-index","background","transparent","root-style","root-class"])):g("",!0),C(h(a,{class:f(v(A)),style:b(v(B)),onTransitionend:v(z)},{default:p((()=>[y(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTransitionend"]),[[$,v(S)]])],64)}}}),[["__scopeId","data-v-930f9fef"]]),J=W(o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"loading",props:{rootStyle:[String,Object,Array],rootClass:String,type:{type:String,default:"circular"},color:String,size:String,text:String,textColor:String,textSize:String,vertical:Boolean},setup(t){const a=t,l=F("loading"),s=e((()=>i(l.b(),l.m("vertical",a.vertical)))),o=e((()=>i(l.e("icon"),l.em("icon",a.type)))),n=e((()=>u({color:a.color,fontSize:a.size},a.rootClass))),r=e((()=>u({color:a.textColor,fontSize:a.textSize},a.rootStyle)));return(e,t)=>{const a=x;return c(),d(a,{class:f(v(s))},{default:p((()=>[h(a,{class:f(v(o)),style:b(v(n))},{default:p((()=>["clock"===e.type?(c(),k(T,{key:0},I(12,(e=>h(a,{key:e,class:f(v(l).e("scale"))},null,8,["class"]))),64)):g("",!0)])),_:1},8,["class","style"]),v(z)(e.$slots.default||e.text)?(c(),d(a,{key:0,class:f(v(l).e("text")),style:b(v(r))},{default:p((()=>[y(e.$slots,"default",{},(()=>[H(A(e.text),1)]),!0)])),_:3},8,["class","style"])):g("",!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-ba96c872"]]),K=W(o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"toast",props:B,emits:["update:visible"],setup(a,{expose:l,emit:o}){const n=a,r=F("toast"),y=t(n.visible),[m,_]=D((()=>{y.value=!1,o("update:visible",!1)}));s((()=>n.visible),(()=>{y.value=n.visible,n.visible&&"loading"!==n.type&&n.duration>0&&m(n.duration)})),l({reHideLater:()=>{_(),j((()=>{"loading"!==n.type&&n.duration>0&&m(n.duration)}))},cancelHide:_});const S=e((()=>i(r.b(),r.m("is-text","text"===n.type),r.m("not-text","text"!==n.type),n.rootClass))),k=e((()=>u(n.rootStyle))),C=e((()=>{const e={top:{top:"var(--sar-toast-top)",transform:"translate(-50%, 0)"},bottom:{top:"auto",bottom:"var(--sar-toast-bottom)",transform:"translate(-50%, 0)"}}[n.position];return u({width:"max-content",maxWidth:"var(--sar-toast-text-max-width)",...e})})),$=e((()=>i(r.e("icon"),r.em("icon","loading","loading"===n.type))));return(e,t)=>{const a=x;return c(),d(G,{visible:e.visible,overlay:e.overlay,transparent:e.transparent,"root-style":v(C),effect:"fade"},{default:p((()=>[h(a,{class:f(v(S)),style:b(v(k))},{default:p((()=>["text"!==e.type?(c(),d(a,{key:0,class:f(v($))},{default:p((()=>["loading"===e.type?(c(),d(J,{key:0})):(c(),d(L,{key:1,name:e.type},null,8,["name"]))])),_:1},8,["class"])):g("",!0),h(a,{class:f(v(r).e("title"))},{default:p((()=>[H(A(e.title),1)])),_:1},8,["class"])])),_:1},8,["class","style"])])),_:1},8,["visible","overlay","transparent","root-style"])}}}),[["__scopeId","data-v-066dc0e3"]]),M=o({options:{virtualHost:!0,styleIsolation:"shared"},__name:"toast-agent",props:V,setup(e){const s=e,o=t({...s}),n=t(),r={show(e){var t;o.value={...s,...e,visible:!0},null==(t=n.value)||t.reHideLater()},hide(){var e;o.value={...o.value,visible:!1},null==(e=n.value)||e.cancelHide()}};return a((()=>{o.value.id&&(O[o.value.id]=r)})),l((()=>{o.value.id&&delete O[o.value.id]})),(e,t)=>(c(),d(K,{"root-style":o.value.rootStyle,"root-class":o.value.rootClass,type:o.value.type,title:o.value.title,visible:o.value.visible,"onUpdate:visible":t[0]||(t[0]=e=>o.value.visible=e),position:o.value.position,overlay:o.value.overlay,transparent:o.value.transparent,ref_key:"elRef",ref:n},null,8,["root-style","root-class","type","title","visible","position","overlay","transparent"]))}}),ee=W(o({__name:"index",props:{emphasis:{type:Boolean}},setup(e){const t=N("page");return(a,l)=>{const s=w(E("sar-toast-agent"),M),o=x;return c(),k(T,null,[h(s),h(o,{class:f(v(i)(v(t).b(),v(t).m("emphasis",e.emphasis)))},{default:p((()=>[y(a.$slots,"default",{},void 0,!0)])),_:3},8,["class"])],64)}}}),[["__scopeId","data-v-cc194633"]]);export{R as O,G as P,ee as _,J as a,Z as b,q as c,D as d,Q as e,Y as u};
