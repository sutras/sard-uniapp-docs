import{d as e,S as l,g as o,A as a,p as s,q as t,s as i,o as n,f as c,w as r,e as d,h as f,u,y as p,Q as m,x as v,i as y,t as b,v as h,l as _,k as C,E as g}from"./index-55845ce0.js";import{_ as k,a as x}from"./index.f4d2668a.js";import{u as w,P as S}from"./index.f5b2fbd4.js";import{_ as B}from"./button.810661ff.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";const T=j(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"popout",props:{rootStyle:[String,Object,Array],rootClass:String,visible:Boolean,title:String,type:{type:String,default:"loose"},showCancel:Boolean,cancelText:String,showConfirm:{type:Boolean,default:!0},confirmText:String,confirmDisabled:Boolean,showClose:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},overlayClosable:{type:Boolean,default:!0},beforeClose:Function},emits:["update:visible","close","cancel","confirm","visible-hook"],setup(e,{emit:j}){const T=e,$=x("popout"),{t:A}=l("popout"),D=o(T.visible);a((()=>T.visible),(()=>{D.value=T.visible}));const F=o(T.visible);a(D,(()=>{!F.value&&D.value&&(F.value=!0)}));const E=o(T.visible),H=()=>{E.value=!0},I=()=>{E.value=!1},O=w(),P=e=>{j("visible-hook",e),O(e)},q=o({cancel:!1,confirm:!1,close:!1}),z=e=>{if(j(e),"function"==typeof T.beforeClose){const l=T.beforeClose(e);if(l instanceof Promise)return q.value[e]=!0,l.then((()=>{D.value=!1,j("update:visible",!1)})).catch(g).finally((()=>{q.value[e]=!1}));if(!1===l)return}D.value=!1,j("update:visible",!1)},L=()=>{T.overlayClosable&&z("close")},Q=()=>{z("close")},V=()=>{z("confirm")},G=()=>{z("cancel")},J=s((()=>t($.b(),T.rootClass))),K=s((()=>i(T.rootStyle)));return(e,l)=>{const o=_,a=C;return n(),c(S,{effect:"slide-bottom",visible:e.visible,onOverlayClick:L,onBeforeEnter:H,onAfterLeave:I,onVisibleHook:P},{default:r((()=>[d(o,{class:f(u(J)),style:p(u(K)),onTransitionend:l[0]||(l[0]=m((()=>{}),["stop"]))},{default:r((()=>[d(o,{class:f(u(t)(u($).e("header"),u($).em("header",T.type)))},{default:r((()=>["compact"===e.type?(n(),c(o,{key:0,class:f(u($).e("button-wrap"))},{default:r((()=>[d(B,{type:"pale-text",theme:"secondary","root-class":u(t)(u($).e("header-cancel")),loading:q.value.cancel,onClick:G},{default:r((()=>[v(e.$slots,"cancel",{},(()=>[y(b(e.cancelText||u(A)("cancel")),1)]),!0)])),_:3},8,["root-class","loading"])])),_:3},8,["class"])):h("",!0),d(o,{class:f(u($).e("title"))},{default:r((()=>[v(e.$slots,"title",{},(()=>[d(a,{class:f(u($).e("title-text"))},{default:r((()=>[y(b(e.title),1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"]),"compact"===e.type?(n(),c(o,{key:1,class:f(u($).e("button-wrap"))},{default:r((()=>[d(B,{type:"pale-text",theme:"primary","root-class":u(t)(u($).e("header-confirm")),loading:q.value.confirm,disabled:e.confirmDisabled,onClick:V},{default:r((()=>[v(e.$slots,"confirm",{},(()=>[y(b(e.confirmText||u(A)("confirm")),1)]),!0)])),_:3},8,["root-class","loading","disabled"])])),_:3},8,["class"])):h("",!0),"loose"===e.type&&e.showClose?(n(),c(o,{key:2,class:f(u($).e("close")),onClick:Q},{default:r((()=>[d(B,{type:"pale-text",theme:"secondary",size:"large"},{default:r((()=>[d(k,{name:"close"})])),_:1})])),_:1},8,["class"])):h("",!0)])),_:3},8,["class"]),v(e.$slots,"default",{},void 0,!0),v(e.$slots,"visible",{whole:E.value,already:F.value},void 0,!0),e.showFooter&&"loose"===e.type?(n(),c(o,{key:0,class:f(u($).e("footer"))},{default:r((()=>[e.showCancel?(n(),c(B,{key:0,type:"pale",theme:"primary",round:"",loading:q.value.cancel,onClick:G},{default:r((()=>[v(e.$slots,"cancel",{},(()=>[y(b(e.cancelText||u(A)("cancel")),1)]),!0)])),_:3},8,["loading"])):h("",!0),e.showConfirm?(n(),c(B,{key:1,type:"default",theme:"primary",round:"",loading:q.value.confirm,disabled:e.confirmDisabled,onClick:V},{default:r((()=>[v(e.$slots,"confirm",{},(()=>[y(b(e.confirmText||u(A)("confirm")),1)]),!0)])),_:3},8,["loading","disabled"])):h("",!0)])),_:3},8,["class"])):h("",!0)])),_:3},8,["class","style"])])),_:3},8,["visible"])}}}),[["__scopeId","data-v-b417ce12"]]);export{T as _};
