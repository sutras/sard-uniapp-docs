import{d as e,G as l,V as a,p as s,g as t,A as o,o as n,f as u,w as i,e as c,v as r,h as d,u as v,x as p,z as m,c as f,F as b,b as h,q as y,i as _,t as g,l as x,X as V}from"./index-B7LoF5HM.js";import{a as A,b as j,_ as k}from"./index.BtT18Zob.js";import{_ as w}from"./tabs.D-JOMSzn.js";import{a as C}from"./index.XihPCky1.js";const S={label:"label",value:"value",disabled:"disabled",children:"children"};function I(e,l,a){for(const s of e){if(s[a.value]===l)return[s];if(Array.isArray(s[a.children])){const e=I(s[a.children],l,a);if(e)return[s,...e]}}}const R=k(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"cascader",props:l({rootStyle:{},rootClass:{},modelValue:{},options:{},fieldKeys:{},hintText:{},labelRender:{type:Function}},{options:()=>[]}),emits:["update:model-value","select"],setup(e,{emit:l}){const k=e,R=l,T=j("cascader"),{t:F}=a("cascader"),K=()=>{let e;if(void 0===D)e=[{options:k.options||[],selected:null}];else{const l=I(k.options||[],D,q.value);if(l){let a=k.options;e=l.map((e=>{const l={options:a,selected:e};return a=e.children,l})),a&&e.push({options:a,selected:null})}}e&&(N.value=e,G.value=e.length-1,H.value||setTimeout((()=>{H.value=!0}),30))},X=(e,l)=>{if(e.disabled)return;let a=N.value.slice();a[l].selected=e;if(l<a.length-1&&(a=a.slice(0,l+1)),(e=>!Array.isArray(e[q.value.children]))(e)){G.value=l;const s=e[q.value.value];z.value=s,R("update:model-value",s,a.map((e=>e.selected)))}else{const l={options:e[q.value.children],selected:null};a.push(l),G.value=a.length-1}D=e[q.value.value],N.value=a,R("select",e,l)},$=s((()=>k.hintText||F("pleaseSelect"))),q=s((()=>Object.assign({},S,k.fieldKeys))),z=t(k.modelValue);let D=z.value;const G=t(0),H=t(!1),N=t([]),O=s((()=>N.value.map((e=>{const{selected:l}=e;return{title:l?l[q.value.label]:$.value}}))));o((()=>k.modelValue),(()=>{z.value=k.modelValue,void 0!==k.modelValue&&N.value.some((e=>{var l;return(null==(l=e.selected)?void 0:l[q.value.value])===k.modelValue}))||(D=k.modelValue,K())})),o((()=>k.options),(()=>{K()}),{immediate:!0});const U=s((()=>y(T.b(),k.rootClass))),B=s((()=>m(k.rootStyle)));return(e,l)=>{const a=x,s=V;return n(),u(a,{class:d(U.value),style:p(B.value)},{default:i((()=>[c(w,{scrollable:"",current:G.value,"onUpdate:current":l[0]||(l[0]=e=>G.value=e),list:O.value},null,8,["current","list"]),r(e.$slots,"top",{tabIndex:G.value},void 0,!0),c(a,{class:d(v(T).e("container"))},{default:i((()=>[c(a,{class:d(v(T).e("wrapper")),style:p(v(m)({transform:`translateX(${100*-Number(G.value)}%)`,transitionDuration:H.value?null:"0s"}))},{default:i((()=>[(n(!0),f(b,null,h(N.value,((l,t)=>(n(),u(a,{key:t,class:d(v(T).e("pane"))},{default:i((()=>[c(a,{class:d(v(T).e("options"))},{default:i((()=>[c(s,{"scroll-y":"",class:d(v(T).e("scroll"))},{default:i((()=>[(n(!0),f(b,null,h(l.options,((s,o)=>(n(),u(a,{key:o,class:d(v(y)(v(T).e("option"),v(T).em("option","selected",l.selected&&l.selected[q.value.value]===s[q.value.value]),v(T).em("option","disabled",s[q.value.disabled]))),onClick:e=>X(s,t)},{default:i((()=>[c(a,{class:d(v(T).e("option-label"))},{default:i((()=>[_(g(e.labelRender?e.labelRender(s):s[q.value.label]),1)])),_:2},1032,["class"]),c(a,{class:d(v(T).e("option-icon"))},{default:i((()=>[c(A,{name:"success"})])),_:1},8,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:2},1032,["class"]),c(a,{class:d(v(y)(v(T).e("loading-wrapper"),v(T).em("loading-wrapper","show",0===l.options.length)))},{default:i((()=>[c(a,{class:d(v(T).e("loading"))},{default:i((()=>[c(C)])),_:1},8,["class"])])),_:2},1032,["class"])])),_:2},1032,["class"])])),_:2},1032,["class"])))),128))])),_:1},8,["class","style"])])),_:1},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-947b0e57"]]);export{R as S,S as d,I as g};
