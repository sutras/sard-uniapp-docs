import{S as e}from"./input.a3626fe5.js";import{d as a,g as l,C as r,o as s,f as o,w as t,e as u,c as i,b as m,F as n,i as d,S as p,H as f,r as _,a as v,k as g}from"./index-aa8abc65.js";import{_ as c,a as b}from"./form.5d9d011d.js";import{_ as j}from"./avatar.361941da.js";import{_ as k,a as y}from"./list.1a8a7167.js";import{_ as x}from"./button.21fa86db.js";import{_ as U}from"./stepper.6ac61e86.js";import{_ as V}from"./dialog.e99bbff1.js";import{_ as h}from"./index.5a4c2473.js";import"./index.776be883.js";import"./common.c6a791ea.js";import"./dom.06da4e90.js";const w=a({__name:"MultiFormLinkage",setup(a){const w=l(),F=l(),N=l(!1),S=r({group:"",users:[]}),q=l({}),C=e=>{var a;if("confirm"===e)return null==(a=F.value)?void 0:a.validate().then((()=>{var e;S.users.push({...q.value,key:Date.now()}),null==(e=F.value)||e.reset()}))},z=()=>{var e;null==(e=w.value)||e.validate().then((()=>{console.log("Finish:",p(S)),f("Success")})).catch((e=>{console.log("error",e)}))};return(a,l)=>{const r=_(v("sar-input"),e),p=_(v("sar-form-item"),c),f=_(v("sar-avatar"),j),A=_(v("sar-list-item"),k),D=_(v("sar-list"),y),H=g,I=_(v("sar-button"),x),L=_(v("sar-form"),b),M=_(v("sar-stepper"),U),R=_(v("sar-dialog"),V),$=_(v("doc-page"),h);return s(),o($,null,{default:t((()=>[u(L,{ref_key:"formRef",ref:w,model:S,"label-width":"200rpx"},{default:t((()=>[u(p,{name:"group",label:"Group Name",rules:[{required:!0,message:"Please input group name!"}]},{default:t((()=>[u(r,{modelValue:S.group,"onUpdate:modelValue":l[0]||(l[0]=e=>S.group=e)},null,8,["modelValue"])])),_:1}),u(p,{label:"User List"},{default:t((()=>[S.users.length?(s(),o(D,{key:0,inlaid:""},{default:t((()=>[(s(!0),i(n,null,m(S.users,(e=>(s(),o(A,{key:e.key,title:`${e.name} - ${e.age}`},{icon:t((()=>[u(f,{size:"64rpx","icon-size":"40rpx"})])),_:2},1032,["title"])))),128))])),_:1})):(s(),o(H,{key:1},{default:t((()=>[d("( No user yet. )")])),_:1}))])),_:1}),u(p,null,{default:t((()=>[u(I,{onClick:z},{default:t((()=>[d("Submit")])),_:1}),u(I,{type:"outline","root-style":"margin-top: 20rpx",onClick:l[1]||(l[1]=e=>N.value=!0)},{default:t((()=>[d(" Add User ")])),_:1})])),_:1})])),_:1},8,["model"]),u(R,{visible:N.value,"onUpdate:visible":l[4]||(l[4]=e=>N.value=e),title:"Basic Drawer","before-close":C},{default:t((()=>[u(L,{ref_key:"modalFormRef",ref:F,model:q.value},{default:t((()=>[u(p,{name:"name",label:"User Name",rules:[{required:!0}]},{default:t((()=>[u(r,{modelValue:q.value.name,"onUpdate:modelValue":l[2]||(l[2]=e=>q.value.name=e),inlaid:"",placeholder:"Input User Name"},null,8,["modelValue"])])),_:1}),u(p,{name:"age",label:"User Age",rules:[{required:!0}]},{default:t((()=>[u(M,{modelValue:q.value.age,"onUpdate:modelValue":l[3]||(l[3]=e=>q.value.age=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"])])),_:1})}}});export{w as default};
