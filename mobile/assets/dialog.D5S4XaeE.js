import{d as e,G as a,V as t,g as s,A as l,p as o,o as i,f as n,w as c,e as r,h as u,x as d,u as m,i as f,t as y,s as p,v,ae as h,q as b,z as _,l as g,H as x}from"./index-cDBoG4Q4.js";import{a as C,b as k,_ as z}from"./index.DPvFFOke.js";import{S as T}from"./index.BXD0v1E4.js";import{_ as w}from"./button.D0jjfd-b.js";const B=z(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dialog",props:a({rootStyle:{},rootClass:{},visible:{type:Boolean},title:{},message:{},headed:{type:Boolean},buttonType:{},showCancel:{type:Boolean},cancelText:{},showConfirm:{type:Boolean},confirmText:{},overlayClosable:{type:Boolean},beforeClose:{type:Function},duration:{}},h),emits:["update:visible","close","cancel","confirm"],setup(e,{emit:a}){const h=e,z=a,B=k("dialog"),{t:j}=t("dialog"),S=s(h.visible);l((()=>h.visible),(()=>{S.value=h.visible}));const H=s({cancel:!1,confirm:!1,close:!1}),I=e=>{if(z(e),"function"==typeof h.beforeClose){const a=h.beforeClose(e);if(a instanceof Promise)return H.value[e]=!0,a.then((()=>{S.value=!1,z("update:visible",!1)})).catch(x).finally((()=>{H.value[e]=!1}));if(!1===a)return}S.value=!1,z("update:visible",!1)},q=()=>{h.overlayClosable&&I("close")},A=()=>{I("close")},F=()=>{I("confirm")},G=()=>{I("cancel")},O=o((()=>({text:{cancel:{type:"text",theme:"neutral",size:"large"},confirm:{type:"text",theme:"primary",size:"large"}},round:{cancel:{type:"pale",theme:"primary",round:!0},confirm:{type:"default",theme:"primary",round:!0}}}[h.buttonType]))),P=o((()=>b(B.b(),B.m("headed",h.headed),B.m("untitled",!h.title),B.m(h.buttonType),h.rootClass))),V=o((()=>_(h.rootStyle)));return(e,a)=>{const t=g;return i(),n(T,{effect:"zoom",visible:e.visible,onOverlayClick:q,duration:e.duration,"root-style":{maxWidth:"var(--sar-dialog-max-width)"}},{default:c((()=>[r(t,{class:u(P.value),style:d(V.value)},{default:c((()=>[e.headed?(i(),n(t,{key:0,class:u(m(B).e("header"))},{default:c((()=>[e.title?(i(),n(t,{key:0,class:u(m(B).e("title"))},{default:c((()=>[f(y(e.title),1)])),_:1},8,["class"])):p("",!0),r(t,{class:u(m(B).e("close"))},{default:c((()=>[r(w,{type:"pale-text",theme:"neutral",size:"large",onClick:A},{default:c((()=>[r(C,{name:"close"})])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])):p("",!0),!e.headed&&e.title||e.message?(i(),n(t,{key:1,class:u(m(B).e("body"))},{default:c((()=>[!e.headed&&e.title?(i(),n(t,{key:0,class:u(m(B).e("title"))},{default:c((()=>[f(y(e.title),1)])),_:1},8,["class"])):p("",!0),e.message?(i(),n(t,{key:1,class:u(m(B).e("message"))},{default:c((()=>[f(y(e.message),1)])),_:1},8,["class"])):p("",!0)])),_:1},8,["class"])):p("",!0),v(e.$slots,"default",{},void 0,!0),r(t,{class:u(m(B).e("footer"))},{default:c((()=>[e.showCancel?(i(),n(w,{key:0,"root-class":m(B).e("button"),loading:H.value.cancel,type:O.value.cancel.type,theme:O.value.cancel.theme,size:O.value.cancel.size,round:O.value.confirm.round,onClick:G},{default:c((()=>[f(y(e.cancelText||m(j)("cancel")),1)])),_:1},8,["root-class","loading","type","theme","size","round"])):p("",!0),e.showCancel&&"text"===e.buttonType?(i(),n(t,{key:1,class:u(m(B).e("divider"))},null,8,["class"])):p("",!0),e.showConfirm?(i(),n(w,{key:2,"root-class":m(B).e("button"),loading:H.value.confirm,type:O.value.confirm.type,theme:O.value.confirm.theme,size:O.value.confirm.size,round:O.value.confirm.round,onClick:F},{default:c((()=>[f(y(e.confirmText||m(j)("confirm")),1)])),_:1},8,["root-class","loading","type","theme","size","round"])):p("",!0)])),_:1},8,["class"])])),_:3},8,["class","style"])])),_:3},8,["visible","duration","root-style"])}}}),[["__scopeId","data-v-eaf174c4"]]);export{B as _};
