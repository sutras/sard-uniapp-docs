import{_ as e}from"./index.e7de6d2c.js";import{d as t,g as a,p as s,A as o,L as n,x as l,i as r,t as i,u,r as c,a as d,o as m,f,w as p,e as _,l as v,c as g,F as S,G as h,k as x}from"./index-55845ce0.js";import{_ as y}from"./index.f5b2fbd4.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as b,a as k}from"./grid.357b028b.js";import{_ as j}from"./button.810661ff.js";import{I as H}from"./input.0bbac4cd.js";import"./index.f4d2668a.js";import"./common.bcce75e7.js";function C(e){return{milliseconds:e%1e3,seconds:~~(e/1e3)%60,minutes:~~(e/1e3/60)%60,hours:~~(e/1e3/60/60)%60,days:~~(e/1e3/60/60/24),total:e}}function D(e,t=2){return String(e).padStart(t,"0")}function I(e,t){return e.replace(/DD/g,D(t.days)).replace(/HH/g,D(t.hours)).replace(/mm/g,D(t.minutes)).replace(/ss/g,D(t.seconds)).replace(/s/g,String(t.seconds)).replace(/SSS/g,D(t.milliseconds,3)).replace(/SS/g,D(t.milliseconds,3).slice(0,2)).replace(/S/g,D(t.milliseconds,3).slice(0,1))}const T=t({options:{virtualHost:!0,styleIsolation:"shared"},__name:"count-down",props:{time:{type:Number,default:0},autoStart:{type:Boolean,default:!0},format:{type:String,default:"HH:mm:ss"},millisecond:Boolean},emits:["change","finish"],setup(e,{expose:t,emit:c}){const d=e,m=a(d.time);let f=0,p=null,_=!0;const v=()=>{const e=Date.now();if(m.value=Math.max(f-e,0),0===m.value)return S(),void c("finish");p=setTimeout((()=>{v()}),30)},g=()=>{_&&(_=!1,f=Date.now()+m.value,v())},S=()=>{_||(clearTimeout(p),p=null,_=!0)},h=s((()=>d.millisecond?m.value:1e3*Math.floor(m.value/1e3))),x=a(C(h.value));return o(h,(()=>{x.value=C(h.value),c("change",x.value)})),t({start:g,pause:S,reset:()=>{S(),m.value=d.time}}),n((()=>{d.autoStart&&g()})),(e,t)=>l(e.$slots,"default",{time:x.value},(()=>[r(i(u(I)(e.format,x.value)),1)]))}});const B=w({},[["render",function(e,t){const a=c(d("sar-count-down"),T);return m(),f(a,{time:72e5})}]]);const F=w({},[["render",function(e,t){const a=c(d("sar-count-down"),T);return m(),f(a,{time:72e5,format:"HH 时 mm 分 ss 秒"})}]]);const M=w({},[["render",function(e,t){const a=c(d("sar-count-down"),T);return m(),f(a,{time:72e5,format:"HH 时 mm 分 ss 秒 SSS 毫秒",millisecond:""})}]]);const z=w({},[["render",function(e,t){const a=v,s=c(d("sar-count-down"),T);return m(),f(s,{time:72e5},{default:p((({time:e})=>[_(a,{class:"container"},{default:p((()=>[_(a,{class:"box"},{default:p((()=>[r(i(String(e.hours).padStart(2,"0")),1)])),_:2},1024),_(a,{class:"colon"},{default:p((()=>[r(":")])),_:1}),_(a,{class:"box"},{default:p((()=>[r(i(String(e.minutes).padStart(2,"0")),1)])),_:2},1024),_(a,{class:"colon"},{default:p((()=>[r(":")])),_:1}),_(a,{class:"box"},{default:p((()=>[r(i(String(e.seconds).padStart(2,"0")),1)])),_:2},1024)])),_:2},1024)])),_:1})}],["__scopeId","data-v-bcc63e23"]]),A=t({__name:"Control",setup(e){const t=a();return(e,a)=>{const s=c(d("sar-grid-item"),b),o=c(d("sar-grid"),k),n=c(d("sar-count-down"),T);return m(),g(S,null,[_(o,{clickable:"",columns:3},{default:p((()=>[_(s,{onClick:a[0]||(a[0]=()=>{var e;return null==(e=t.value)?void 0:e.start()}),icon:"play-circle","icon-family":"demo-icons",text:"开始"}),_(s,{onClick:a[1]||(a[1]=()=>{var e;return null==(e=t.value)?void 0:e.pause()}),icon:"pause-circle","icon-family":"demo-icons",text:"暂停"}),_(s,{onClick:a[2]||(a[2]=()=>{var e;return null==(e=t.value)?void 0:e.reset()}),icon:"arrow-clockwise","icon-family":"demo-icons",text:"重置"})])),_:1}),_(n,{ref_key:"elRef",ref:t,time:1e4,format:"ss:SSS",millisecond:"","auto-start":!1},null,512)],64)}}}),E=t({__name:"Captcha",setup(e){const t=a(!1),s=a(!1),o=()=>{t.value=!0,new Promise((e=>setTimeout(e,1e3))).then((()=>{h("已发送验证码"),s.value=!0})).finally((()=>{t.value=!1}))};return(e,a)=>{const n=c(d("sar-count-down"),T),l=x,i=c(d("sar-button"),j),u=c(d("sar-input"),H);return m(),f(u,{placeholder:"请输入验证码"},{append:p((()=>[_(i,{size:"small",loading:t.value,disabled:s.value,onClick:o,"root-style":"min-width: 200rpx"},{default:p((()=>[s.value?(m(),f(n,{key:0,time:8e3,format:"重发验证码(s)",onFinish:a[0]||(a[0]=e=>s.value=!1)})):t.value?(m(),f(l,{key:1},{default:p((()=>[r("正在发送")])),_:1})):(m(),f(l,{key:2},{default:p((()=>[r("发送验证码")])),_:1}))])),_:1},8,["loading","disabled"])])),_:1})}}}),G=w(t({__name:"index",setup:t=>(t,a)=>{const s=c(d("doc-demo"),e),o=c(d("doc-page"),y);return m(),f(o,null,{default:p((()=>[_(s,{title:"基础使用"},{default:p((()=>[_(B)])),_:1}),_(s,{title:"自定义格式"},{default:p((()=>[_(F)])),_:1}),_(s,{title:"毫秒级别的渲染"},{default:p((()=>[_(M)])),_:1}),_(s,{title:"自定义样式"},{default:p((()=>[_(z)])),_:1}),_(s,{title:"手动控制"},{default:p((()=>[_(A)])),_:1}),_(s,{title:"验证码倒计时"},{default:p((()=>[_(E)])),_:1})])),_:1})}}),[["__scopeId","data-v-4b77afc4"]]);export{G as default};
