import{_ as e}from"./index.BI3vtXtd.js";import{E as l,d as a,G as o,m as t,L as s,g as u,A as d,z as i,N as r,P as n,p as v,o as p,c,e as b,w as m,f as _,h as f,u as y,i as w,t as h,y as C,s as k,x as g,S as x,v as j,F as V,b as B,q as S,M as I,k as $,l as D,B as E,C as L,D as O,T as U,r as A,a as H}from"./index-DFwJ2Oj-.js";import{S as M,_ as P}from"./index.NOUmFN7R.js";import{a as T,b as q,_ as z}from"./index.BDMDFAO9.js";import{a as F,g as G}from"./dom.LPfVLj9J.js";import{a as J,_ as N}from"./list.BRtuGdlc.js";import{_ as K}from"./switch.-YXJ6ypM.js";import{_ as Q}from"./button.6NBmS2yV.js";import"./common.BM3Qp-Uy.js";const R=l.dropdown,W={options:()=>[]},X=Symbol("dropdown-context"),Y=z(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown-item",props:o({rootStyle:{},rootClass:{},title:{},label:{},options:{},disabled:{type:Boolean},modelValue:{},visible:{type:Boolean},separator:{},placeholder:{}},W),emits:["update:model-value","update:visible"],setup(e,{emit:l}){const a=e,o=l,E=q("dropdown-item"),L=t(X);if(!L)throw new Error("DropdownItem must be included in Dropdown.");const O=s(),U=I(),A=u(a.modelValue);d((()=>a.modelValue),(()=>{A.value=a.modelValue}));const H=u(a.visible),P=u(a.visible),z=u(a.visible);d((()=>a.visible),(()=>{H.value=a.visible})),d(H,(()=>{H.value?(P.value=!0,L.hideOthers(U),R().then((()=>{z.value=!0}))):z.value=!1}));const K=u(""),Q=u(""),R=async()=>{const e=await F(),l=await G(`#${O}`,U),a={left:0,right:0,top:0,bottom:0},o={left:0,right:0,top:0,bottom:0};"down"===L.direction?(a.top=`calc(${l.bottom}px + var(--window-top))`,a.bottom=0,o.top=0,o.bottom=`calc(${e.height-l.bottom}px + var(--window-top))`):(a.top=0,a.bottom=e.height-l.top+"px",o.top=`calc(${l.bottom}px + var(--window-top))`,o.bottom=0),K.value=i(a),Q.value=i(o)},W=e=>{e!==H.value&&(H.value=e,o("update:visible",e))},Y=()=>{L.disabled||a.disabled||W(!H.value)},Z=()=>{L.overlayClosable&&W(!1)},ee=()=>{L.awayClosable&&W(!1)},le=()=>{P.value=!1},ae=()=>{W(!1)};r((()=>{L.register(U,{hide:ae,visible:P})})),n((()=>{L.unregister(U)}));const oe=v((()=>{var e,l;return null==(l=null==(e=a.options)?void 0:e.find((e=>e.value===A.value)))?void 0:l.label})),te=v((()=>P.value?"caret-up":"caret-down")),se=v((()=>"up"===L.direction?"slide-bottom":"slide-top")),ue=v((()=>S(E.b(),E.m(L.direction),E.m("show",P.value),E.m("disabled",L.disabled||a.disabled),a.rootClass))),de=v((()=>i(a.rootStyle)));return(e,l)=>{const a=$,t=D;return p(),c(V,null,[b(t,{class:f(ue.value),style:g(de.value),id:y(O),onClick:Y},{default:m((()=>[e.label?(p(),_(t,{key:0,class:f(y(E).e("label"))},{default:m((()=>[w(h(e.label)+" ",1),y(C)(e.title)&&y(C)(A.value)||!e.separator?k("",!0):(p(),_(a,{key:0},{default:m((()=>[w(h(e.separator),1)])),_:1}))])),_:1},8,["class"])):k("",!0),e.title?(p(),_(t,{key:1,class:f(y(E).e("title"))},{default:m((()=>[w(h(e.title),1)])),_:1},8,["class"])):k("",!0),y(C)(A.value)?e.placeholder?(p(),_(t,{key:3,class:f(y(E).e("placeholder"))},{default:m((()=>[w(h(e.placeholder),1)])),_:1},8,["class"])):k("",!0):(p(),_(t,{key:2,class:f(y(E).e("value"))},{default:m((()=>[w(h(oe.value),1)])),_:1},8,["class"])),b(t,{class:f(y(E).e("arrow"))},{default:m((()=>[b(T,{name:te.value},null,8,["name"])])),_:1},8,["class"])])),_:1},8,["class","style","id"]),P.value?(p(),_(t,{key:0,class:f(y(E).e("away")),style:g(Q.value),onClick:ee,onTouchmove:l[0]||(l[0]=x((()=>{}),["stop","prevent"]))},null,8,["class","style"])):k("",!0),P.value?(p(),_(t,{key:1,class:f(y(E).e("popover")),style:g(K.value)},{default:m((()=>[b(M,{"root-class":y(E).e("popup"),"root-style":y(i)({position:"absolute"}),"overlay-style":y(i)({position:"absolute"}),"overlay-class":y(E).e("overlay"),effect:se.value,visible:z.value,duration:y(L).duration,onAfterLeave:le,onOverlayClick:Z},{default:m((()=>[j(e.$slots,"default",{},(()=>[b(J,{inlaid:""},{default:m((()=>[(p(!0),c(V,null,B(e.options,((e,l)=>(p(),_(N,{key:l,title:e.label,hover:"","root-class":y(S)(y(E).e("option"),y(E).em("option","active",e.value===A.value)),onClick:l=>(e=>{e.value!==A.value&&(A.value=e.value,o("update:model-value",e.value)),W(!1)})(e)},{arrow:m((()=>[b(t,{class:f(y(E).e("option-icon"))},{default:m((()=>[b(T,{name:"success"})])),_:1},8,["class"])])),_:2},1032,["title","root-class","onClick"])))),128))])),_:1})]),!0)])),_:3},8,["root-class","root-style","overlay-style","overlay-class","effect","visible","duration"])])),_:3},8,["class","style"])):k("",!0)],64)}}}),[["__scopeId","data-v-319f2439"]]),Z=z(a({options:{virtualHost:!0,styleIsolation:"shared"},__name:"dropdown",props:o({rootStyle:{},rootClass:{},direction:{},disabled:{type:Boolean},awayClosable:{type:Boolean},overlayClosable:{type:Boolean},duration:{}},R),setup(e){const l=e,a=q("dropdown"),o=u(new Map),t=v((()=>[...o.value.values()].some((e=>y(e.visible)))));E(X,L({direction:O(l,"direction"),disabled:O(l,"disabled"),awayClosable:O(l,"awayClosable"),overlayClosable:O(l,"overlayClosable"),duration:O(l,"duration"),hideOthers:e=>{o.value.forEach(((l,a)=>{U(a)!==e&&l.hide()}))},register:(e,l)=>{o.value.set(e,l)},unregister:e=>{o.value.delete(e)}}));const s=v((()=>S(a.b(),a.m("show",t.value),l.rootClass))),d=v((()=>i(l.rootStyle)));return(e,l)=>{const o=D;return p(),_(o,{class:f(s.value),style:g(d.value)},{default:m((()=>[b(o,{class:f(y(a).e("shadow"))},null,8,["class"]),j(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-39e6d6ee"]]),ee=a({__name:"Basic",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}],o=u("1"),t=u("1");return(e,s)=>{const u=A(H("sar-dropdown-item"),Y),d=A(H("sar-dropdown"),Z);return p(),_(d,null,{default:m((()=>[b(u,{options:l,modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e)},null,8,["modelValue"]),b(u,{options:a,modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e)},null,8,["modelValue"])])),_:1})}}}),le=a({__name:"Placeholder",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,null,{default:m((()=>[b(t,{placeholder:"排序",options:l}),b(t,{placeholder:"配送时间",options:a})])),_:1})}}}),ae=a({__name:"Label",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,null,{default:m((()=>[b(t,{label:"排序",options:l,"model-value":"1"}),b(t,{label:"速度",options:a,"model-value":"2"})])),_:1})}}}),oe=a({__name:"Direction",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,{direction:"up"},{default:m((()=>[b(t,{options:l,"model-value":"1"}),b(t,{options:a,"model-value":"2"})])),_:1})}}}),te=a({__name:"Disabled",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=[{label:"30分钟内",value:"1"},{label:"40分钟内",value:"2"},{label:"50分钟内",value:"3"}];return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-dropdown"),Z);return p(),_(s,{disabled:""},{default:m((()=>[b(t,{options:l,"model-value":"1"}),b(t,{options:a,"model-value":"2"})])),_:1})}}}),se=a({__name:"Content",setup(e){const l=[{label:"距离优先",value:"1"},{label:"速度优先",value:"2"},{label:"评分优先",value:"3"}],a=u(!1);return(e,o)=>{const t=A(H("sar-dropdown-item"),Y),s=A(H("sar-switch"),K),u=A(H("sar-list-item"),N),d=A(H("sar-button"),Q),i=A(H("sar-list"),J),r=A(H("sar-dropdown"),Z);return p(),_(r,{direction:"up"},{default:m((()=>[b(t,{options:l,"model-value":"1"}),b(t,{title:"筛选",visible:a.value,"onUpdate:visible":o[1]||(o[1]=e=>a.value=e)},{default:m((()=>[b(i,{inlaid:""},{default:m((()=>[b(u,{title:"包邮"},{value:m((()=>[b(s,{"model-value":!0})])),_:1}),b(u,{title:"团购"},{value:m((()=>[b(s)])),_:1}),b(u,null,{default:m((()=>[b(d,{round:"",onClick:o[0]||(o[0]=e=>a.value=!1)},{default:m((()=>[w("确认")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])),_:1})}}}),ue=z(a({__name:"index",setup:l=>(l,a)=>{const o=A(H("doc-demo"),e),t=A(H("doc-page"),P);return p(),_(t,null,{default:m((()=>[b(o,{title:"基础使用",full:""},{default:m((()=>[b(ee)])),_:1}),b(o,{title:"占位符",full:""},{default:m((()=>[b(le)])),_:1}),b(o,{title:"添加 label",full:""},{default:m((()=>[b(ae)])),_:1}),b(o,{title:"向上展开",full:""},{default:m((()=>[b(oe)])),_:1}),b(o,{title:"禁用",full:""},{default:m((()=>[b(te)])),_:1}),b(o,{title:"自定义内容",full:""},{default:m((()=>[b(se)])),_:1})])),_:1})}}),[["__scopeId","data-v-829ba5f4"]]);export{ue as default};
